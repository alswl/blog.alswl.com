<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>铁血联盟EdtTxt转换器v0.9 - Log4D</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="block-all-mixed-content">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />



<link rel="canonical" href="https://blog.alswl.com/2009/11/jagged-alliance-edt-txt-converter-v0-9/">

        <meta name="author" content="alswl" />
        <meta name="keywords" content="Python" />
        <meta name="description" content="上个月时候，zwwooooo同鞋联系我让帮写一个铁血联盟中需要用到的Edt&lt;-&gt;Txt转换器，我前前后后大约三个星期完成 到v0.9，能完成 …" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css"/>
    <link href="https://cdn.staticfile.org/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.alswl.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.alswl.com/theme/css/style.css" type="text/css"/>

    <link href="https://blog.alswl.com/atom.xml" type="application/atom+xml" rel="alternate" title="Log4D Atom Feed" />
    <link href="https://blog.alswl.com/rss.xml" type="application/rss+xml" rel="alternate" title="Log4D RSS Feed" />

</head>
<body>

<div class="navbar navbar-default" role="navigation">
    <div class="container  col-lg-8 col-lg-offset-2">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.alswl.com/" class="navbar-brand">
Log4D            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/tags/">Tags</a></li>
                    <li><a href="/links/">Links</a></li>
                    <li><a href="/about/">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://blog.alswl.com/archives/"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">

    <section id="content">
        <article class="article-detail">
            <header class="page-header">
                <h1 class="title">
                    <a href="https://blog.alswl.com/2009/11/jagged-alliance-edt-txt-converter-v0-9/"
                       rel="bookmark"
                       title="Permalink to 铁血联盟EdtTxt转换器v0.9">
                        铁血联盟EdtTxt转换器v0.9
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2009-11-01T00:00:00+08:00"> 2009-11-01</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="https://blog.alswl.com/tag/python/">Python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>上个月时候，<a href="http://zww.me/">zwwooooo</a>同鞋联系我让帮写一个铁血联盟中需要用到的Edt&lt;-&gt;Txt转换器，我前前后后大约三个星期完成 到v0.9，能完成基本的功能（但似乎存在一些未知Bug，-_-#）。由于我之后很长一段时间得找工作，所以不能继续维护这个小工具，现在把他的代码开放，如果有高 人能看到这个小工具，有兴趣的话可以继续维护下去，(zwwooooo，真的很不好意思……)。 一些关于程序说明，zwwooooo原文，更详细可以联系zwwooooo本人：</p>
<blockquote>
<p>edt（后缀） 是游戏对话文件，游戏里有很多种，但都是有规律的，我把一些规律和流程说一下</p>
</blockquote>
<p>一、从 edt 提取出对话部分文本，然后转换并输出为 ansi 码文本，用附件的 000.edt 为例说明</p>
<ol type="1">
<li><p>把 000.edt 文件用16进制方式打开，对话从“0”处开始，结束标志是2个16进制字节：00 00</p></li>
<li><p>000.edt 里面每个/每段对话/说明相隔 640 个字节，即“0”开始为第一段，直到16进制双字节出现“00 00”结束，然后第2段话在第 640 字节处开始，也是以“00 00”表示结束，后面的以此类推。 （因为有几种edt文件，每种edt文件的对话间隔不同，所以这个“间隔”最好设个参数，可以在转换前自定义输入。）</p></li>
<li><p>然后把提取出的16进制数全部按UTF-16的双字节（或者转为对应的十进制） -1 处理，如：0~1字节处的双字节值为02 1E（1E为高位，02为地位 —-哈哈，这个我好想说多余了），那么进行 -1 处理后得到：01 1E。然后把所有 -1 处理好的数据转换为 ansi 码（注：不转也可以 ，直接用UTF-16无bom格式做文本文件—-不过这样不太方便编辑），那么文本就出来了</p></li>
</ol>
<p>每段话提取并转换后按 000.txt 一样显示，方便修改</p>
<ol start="4" type="1">
<li>对话中的一些特殊字符说明（都是双字节16进制），有些提取转换时需要特殊处理的（不能直接 -1 处理）：</li>
</ol>
<p>1）就是刚才说的“00 00”，它是每个对话的结束标志。</p>
<p>2）“20 00”：UTF-16编码’空格’的编码，这个是保持不变的，不用 -1 处理。</p>
<p>3）“B3 00” 和 “B4 00”：这两个是游戏专用的特殊控制符，用来控制文本高亮和居中，这个也要 -1 处理，-1 处理后为：B2 00 和 B3 00，但因为ansi码里面没有这个字符，所以要用ansi码里面的2个不常用的字符表示，例如“㈡” “㈢”。</p>
<p>这样就能修改对话了/提取出的英文翻译成中文。</p>
<p>二、把 txt 转换回 edt（直接修改原 edt 文件或者新建一个edt文件，对话部分以外部分用“00 00”填充），当然最好两个方式都行</p>
<p>在v0.9中，我已经可以在程序中对参数进行配置，对系统的blockSize和标识符进行修改。一个已知缺陷是在Edt-&gt;Txt的处理行数时候可能出现问题。</p>
<p>程序是<a href="http://log4d.com/2009/10/python-django-mtv-framework-and-php-mvc-framework">用Python写的</a>，不要觉得很难，我也是在用Python完成Hello World之后第三天开始写这个程序，只要有C/Java/C#这些语言一些基础，就可以理解这些程序了。</p>
<pre><code># coding=utf-8
import struct
import os
import ConfigParser</code></pre>
<p>configParser=ConfigParser.ConfigParser()</p>
<p>CONFIGNAME = ‘config.cfg’</p>
<p>blockSize = 640 #size per block 640/480</p>
<p>isDebug = False #isDebug mode True/False</p>
<p>sysEnd = ‘x00x00’ #end of a sentence, e.g. a space x00x00</p>
<p>startPosition = 00 #start posion</p>
<p>PASS_SYMBOL = ‘x20x00’ #the list of word not decode</p>
<p>SPECIAL_1 = ‘xB3x00’ #the word of B300</p>
<p>SPECIAL_2 = ‘xB4x00’ #the word of B400</p>
<p>sysEndList = {‘00’: ‘x00’, ‘01’: ‘x01’, ‘02’: ‘x02’, ‘03’: ‘x03’, ‘04’: ‘x04’, ‘05’: ‘x05’, ‘06’: ‘x06’, ‘07’: ‘x07’, ‘08’: ‘x08’, ‘09’: ‘x09’, ‘0a’: ‘x0a’, ‘0b’: ‘x0b’, ‘0c’: ‘x0c’, ‘0d’: ‘x0d’, ‘0e’: ‘x0e’, ‘0f’: ‘x0f’, ‘10’: ‘x10’, ‘11’: ‘x11’, ‘12’: ‘x12’, ‘13’: ‘x13’, ‘14’: ‘x14’, ‘15’: ‘x15’, ‘16’: ‘x16’, ‘17’: ‘x17’, ‘18’: ‘x18’, ‘19’: ‘x19’, ‘1a’: ‘x1a’, ‘1b’: ‘x1b’, ‘1c’: ‘x1c’, ‘1d’: ‘x1d’, ‘1e’: ‘x1e’, ‘1f’: ‘x1f’, ‘20’: ‘x20’, ‘21’: ‘x21’, ‘22’: ‘x22’, ‘23’: ‘x23’, ‘24’: ‘x24’, ‘25’: ‘x25’, ‘26’: ‘x26’, ‘27’: ‘x27’, ‘28’: ‘x28’, ‘29’: ‘x29’, ‘2a’: ‘x2a’, ‘2b’: ‘x2b’, ‘2c’: ‘x2c’, ‘2d’: ‘x2d’, ‘2e’: ‘x2e’, ‘2f’: ‘x2f’, ‘30’: ‘x30’, ‘31’: ‘x31’, ‘32’: ‘x32’, ‘33’: ‘x33’, ‘34’: ‘x34’, ‘35’: ‘x35’, ‘36’: ‘x36’, ‘37’: ‘x37’, ‘38’: ‘x38’, ‘39’: ‘x39’, ‘3a’: ‘x3a’, ‘3b’: ‘x3b’, ‘3c’: ‘x3c’, ‘3d’: ‘x3d’, ‘3e’: ‘x3e’, ‘3f’: ‘x3f’, ‘40’: ‘x40’, ‘41’: ‘x41’, ‘42’: ‘x42’, ‘43’: ‘x43’, ‘44’: ‘x44’, ‘45’: ‘x45’, ‘46’: ‘x46’, ‘47’: ‘x47’, ‘48’: ‘x48’, ‘49’: ‘x49’, ‘4a’: ‘x4a’, ‘4b’: ‘x4b’, ‘4c’: ‘x4c’, ‘4d’: ‘x4d’, ‘4e’: ‘x4e’, ‘4f’: ‘x4f’, ‘50’: ‘x50’, ‘51’: ‘x51’, ‘52’: ‘x52’, ‘53’: ‘x53’, ‘54’: ‘x54’, ‘55’: ‘x55’, ‘56’: ‘x56’, ‘57’: ‘x57’, ‘58’: ‘x58’, ‘59’: ‘x59’, ‘5a’: ‘x5a’, ‘5b’: ‘x5b’, ‘5c’: ‘x5c’, ‘5d’: ‘x5d’, ‘5e’: ‘x5e’, ‘5f’: ‘x5f’, ‘60’: ‘x60’, ‘61’: ‘x61’, ‘62’: ‘x62’, ‘63’: ‘x63’, ‘64’: ‘x64’, ‘65’: ‘x65’, ‘66’: ‘x66’, ‘67’: ‘x67’, ‘68’: ‘x68’, ‘69’: ‘x69’, ‘6a’: ‘x6a’, ‘6b’: ‘x6b’, ‘6c’: ‘x6c’, ‘6d’: ‘x6d’, ‘6e’: ‘x6e’, ‘6f’: ‘x6f’, ‘70’: ‘x70’, ‘71’: ‘x71’, ‘72’: ‘x72’, ‘73’: ‘x73’, ‘74’: ‘x74’, ‘75’: ‘x75’, ‘76’: ‘x76’, ‘77’: ‘x77’, ‘78’: ‘x78’, ‘79’: ‘x79’, ‘7a’: ‘x7a’, ‘7b’: ‘x7b’, ‘7c’: ‘x7c’, ‘7d’: ‘x7d’, ‘7e’: ‘x7e’, ‘7f’: ‘x7f’, ‘80’: ‘x80’, ‘81’: ‘x81’, ‘82’: ‘x82’, ‘83’: ‘x83’, ‘84’: ‘x84’, ‘85’: ‘x85’, ‘86’: ‘x86’, ‘87’: ‘x87’, ‘88’: ‘x88’, ‘89’: ‘x89’, ‘8a’: ‘x8a’, ‘8b’: ‘x8b’, ‘8c’: ‘x8c’, ‘8d’: ‘x8d’, ‘8e’: ‘x8e’, ‘8f’: ‘x8f’, ‘90’: ‘x90’, ‘91’: ‘x91’, ‘92’: ‘x92’, ‘93’: ‘x93’, ‘94’: ‘x94’, ‘95’: ‘x95’, ‘96’: ‘x96’, ‘97’: ‘x97’, ‘98’: ‘x98’, ‘99’: ‘x99’, ‘9a’: ‘x9a’, ‘9b’: ‘x9b’, ‘9c’: ‘x9c’, ‘9d’: ‘x9d’, ‘9e’: ‘x9e’, ‘9f’: ‘x9f’, ‘a0’: ‘xa0’, ‘a1’: ‘xa1’, ‘a2’: ‘xa2’, ‘a3’: ‘xa3’, ‘a4’: ‘xa4’, ‘a5’: ‘xa5’, ‘a6’: ‘xa6’, ‘a7’: ‘xa7’, ‘a8’: ‘xa8’, ‘a9’: ‘xa9’, ‘aa’: ‘xaa’, ‘ab’: ‘xab’, ‘ac’: ‘xac’, ‘ad’: ‘xad’, ‘ae’: ‘xae’, ‘af’: ‘xaf’, ‘b0’: ‘xb0’, ‘b1’: ‘xb1’, ‘b2’: ‘xb2’, ‘b3’: ‘xb3’, ‘b4’: ‘xb4’, ‘b5’: ‘xb5’, ‘b6’: ‘xb6’, ‘b7’: ‘xb7’, ‘b8’: ‘xb8’, ‘b9’: ‘xb9’, ‘ba’: ‘xba’, ‘bb’: ‘xbb’, ‘bc’: ‘xbc’, ‘bd’: ‘xbd’, ‘be’: ‘xbe’, ‘bf’: ‘xbf’, ‘c0’: ‘xc0’, ‘c1’: ‘xc1’, ‘c2’: ‘xc2’, ‘c3’: ‘xc3’, ‘c4’: ‘xc4’, ‘c5’: ‘xc5’, ‘c6’: ‘xc6’, ‘c7’: ‘xc7’, ‘c8’: ‘xc8’, ‘c9’: ‘xc9’, ‘ca’: ‘xca’, ‘cb’: ‘xcb’, ‘cc’: ‘xcc’, ‘cd’: ‘xcd’, ‘ce’: ‘xce’, ‘cf’: ‘xcf’, ‘d0’: ‘xd0’, ‘d1’: ‘xd1’, ‘d2’: ‘xd2’, ‘d3’: ‘xd3’, ‘d4’: ‘xd4’, ‘d5’: ‘xd5’, ‘d6’: ‘xd6’, ‘d7’: ‘xd7’, ‘d8’: ‘xd8’, ‘d9’: ‘xd9’, ‘da’: ‘xda’, ‘db’: ‘xdb’, ‘dc’: ‘xdc’, ‘dd’: ‘xdd’, ‘de’: ‘xde’, ‘df’: ‘xdf’, ‘e0’: ‘xe0’, ‘e1’: ‘xe1’, ‘e2’: ‘xe2’, ‘e3’: ‘xe3’, ‘e4’: ‘xe4’, ‘e5’: ‘xe5’, ‘e6’: ‘xe6’, ‘e7’: ‘xe7’, ‘e8’: ‘xe8’, ‘e9’: ‘xe9’, ‘ea’: ‘xea’, ‘eb’: ‘xeb’, ‘ec’: ‘xec’, ‘ed’: ‘xed’, ‘ee’: ‘xee’, ‘ef’: ‘xef’, ‘f0’: ‘xf0’, ‘f1’: ‘xf1’, ‘f2’: ‘xf2’, ‘f3’: ‘xf3’, ‘f4’: ‘xf4’, ‘f5’: ‘xf5’, ‘f6’: ‘xf6’, ‘f7’: ‘xf7’, ‘f8’: ‘xf8’, ‘f9’: ‘xf9’, ‘fa’: ‘xfa’, ‘fb’: ‘xfb’, ‘fc’: ‘xfc’, ‘fd’: ‘xfd’, ‘fe’: ‘xfe’, ‘ff’: ‘xff’, }</p>
<p>def welcome():</p>
<p>print u’*******************************************************************’</p>
<p>print u’*************************** ***************************’</p>
<p>print u’***************************EdtTxtConvert***************************’</p>
<p>print u’*************************** ***************************’</p>
<p>print u’*******************************************************************’</p>
<p>print u’Any problem can connect me with my web site.’</p>
<p>print u’ <em>powered by alswl</em> ’</p>
<p>print u’ <em>http://dddspace.cn</em>’</p>
<p>print u’ <em>09-10-01 v0.9</em> ’</p>
<p>def getFiles(type):</p>
<p>‘get the files of path’</p>
<p>global dirPath</p>
<p>dirPath = raw_input(u’Input the files path:’)</p>
<p>while not os.path.isdir(dirPath):</p>
<p>print u’%s is not a path’ %(dirPath)</p>
<p>dirPath = raw_input(u’Input the files path:’)</p>
<p>#os.chdir(dirPath)</p>
<p>files = os.listdir(dirPath)</p>
<p>fileList = list()</p>
<p>for file in files:</p>
<p>if os.path.splitext(file)[1].lower() == type:</p>
<p>fileList.append(file)</p>
<p>return fileList</p>
<p>def myInit():</p>
<p>‘init the argu’</p>
<p>try:</p>
<p>global blockSize, isDebug, sysEnd, startPosition</p>
<p>configParser.read(CONFIGNAME)</p>
<p>blockSize = configParser.getint(‘edt_encode_config’, ‘block_size’)</p>
<p>isDebug = configParser.getboolean(‘edt_encode_config’, ‘debug’)</p>
<p>sysEnd = configParser.get(‘edt_encode_config’, ‘sys_end’)</p>
<p>startPosition = configParser.getint(‘edt_encode_config’, ‘start_position’)</p>
<p>viewConfig()</p>
<p>except Exception, e:</p>
<p>print u’configure file %s error！Exiting！’ %CONFIGNAME</p>
<p>raw_input(u’Press Enter to exit’)</p>
<p>sys.exit()</p>
<p>def viewConfig():</p>
<p>print u’Current configure:’</p>
<p>print u’Block size:%s’ %blockSize</p>
<p>print u’Start Position:%s’ %startPosition</p>
<p>print u’Debug mode:%s’ %isDebug</p>
<p>print u’End Symbol:%s’ %toHex(sysEnd)</p>
<p>def setConfig():</p>
<p>global blockSize, isDebug, sysEnd, startPosition</p>
<p>configParser.read(CONFIGNAME)</p>
<p>try:</p>
<p>blockSize = int(raw_input(‘set block size:’))</p>
<p>startPosition = int(raw_input(‘set start position:’))</p>
<p>isDebug = bool(raw_input(‘set is debug mode(empty is False):’))</p>
<p>sysEndInput = raw_input(‘set symbol of end(eg.0000)’)</p>
<p>sysEnd = sysEndList[sysEndInput[:2]] + sysEndList[sysEndInput[2:]]</p>
<p>configParser.set(‘edt_encode_config’, ‘block_size’, blockSize)</p>
<p>configParser.set(‘edt_encode_config’, ‘debug’, str(isDebug))</p>
<p>configParser.set(‘edt_encode_config’, ‘sys_end’, sysEnd)</p>
<p>configParser.set(‘edt_encode_config’, ‘start_position’, startPosition)</p>
<p>with open(CONFIGNAME, ‘wb’) as configFile:</p>
<p>configParser.write(configFile)</p>
<p>except Exception, e:</p>
<p>print ‘Error set’</p>
<p>raw_input(‘Press Enter to continue’)</p>
<p>def toHex(s):</p>
<p>‘format string to hex’</p>
<p>lst = []</p>
<p>for ch in s:</p>
<p>hv = hex(ord(ch)).replace(‘0x’, ’’)</p>
<p>if len(hv) == 1:</p>
<p>hv = ‘0’+hv</p>
<p>lst.append(hv)</p>
<p>return reduce(lambda x,y:x+y, lst)</p>
<p>def getBlock(block640):</p>
<p>‘get the useful string from block of 640 bytes’</p>
<p>for i in range(0, len(block640), 2):</p>
<p>if block640[i : i+2] == sysEnd:</p>
<p>return block640[:i]</p>
<p>def decode(text):</p>
<p>‘-1 operate’</p>
<p>list = ’’</p>
<p>for i in range(0, len(text), 2):</p>
<p>try:</p>
<p>rawStr = text[i: i+2]</p>
<p>if rawStr == PASS_SYMBOL :</p>
<p>list += rawStr</p>
<p>elif rawStr == SPECIAL_1:</p>
<p>list += ‘x21x32’</p>
<p>elif rawStr == SPECIAL_2:</p>
<p>list += ‘x22x32’</p>
<p>else:</p>
<p>a, b = struct.unpack(‘BB’, rawStr)</p>
<p>a -= 1</p>
<p>list += struct.pack(‘BB’, a, b)</p>
<p>except Exception, e:</p>
<p>tt = 0</p>
<p>return list</p>
<p>def encode(text):</p>
<p>‘+1 operate’</p>
<p>list = ’’</p>
<p>for char in text:</p>
<p>try:</p>
<p>if char == ‘x21x32’:</p>
<p>list += SPECIAL_1</p>
<p>elif char == ‘x22x32’:</p>
<p>list += SPECIAL_2</p>
<p>else:</p>
<p>a, b = struct.unpack(‘BB’, char.encode(‘utf-16’)[2:])</p>
<p>a += 1</p>
<p>list += struct.pack(‘BB’, a, b)</p>
<p>except Exception, e:</p>
<p>tt = 0</p>
<p>list += ‘x00x00’</p>
<p>return list</p>
<p>def read(file):</p>
<p>‘read the block of file(use blockSize)’</p>
<p>return file.read(blockSize)</p>
<p>def edtProcess(edtFile):</p>
<p>‘edt-&gt;txt process’</p>
<p>fedt = open(dirPath + ‘' + edtFile, ’rb’)</p>
<p>ftxt = open(dirPath + ‘' + edtFile[0:-3] + ’txt’, ‘w’)</p>
<p>global i</p>
<p>i = 0</p>
<p>try:</p>
<p>fedt.seek(startPosition)</p>
<p>while True:</p>
<p>block640 = read(fedt)</p>
<p>if not block640:</p>
<p>break</p>
<p>if i == 640 and isDebug == True:</p>
<p>nonono = 0</p>
<p>block = getBlock(block640)</p>
<p>blockStr = decode(block)</p>
<p>if blockStr != ’’:</p>
<p>lineNum = u’%d:n’ %(i)</p>
<p>lineStr = blockStr.decode(‘utf-16’) + ‘nn’</p>
<p>if isDebug:</p>
<p>print lineNum, ‘line number:%s’ %(hex(i/16))</p>
<p>print lineStr,</p>
<p>ftxt.write(lineNum.encode(‘gbk’))</p>
<p>ftxt.write(lineStr.encode(‘gbk’))</p>
<p>i += blockSize</p>
<p>print u’%s -&gt; %s Convert successful’ %(fedt.name, ftxt.name)</p>
<p>except Exception, e:</p>
<p>print u’%s -&gt; %s Convert Errorn%s’ %(fedt.name, ftxt.name, e)</p>
<p>finally:</p>
<p>fedt.close()</p>
<p>ftxt.close()</p>
<p>def txtProcess(txtFile):</p>
<p>‘txt-&gt;edt process’</p>
<p>ftxt = open(dirPath + ‘' + txtFile, ’r’)</p>
<p>fedt = open(dirPath + ‘' + txtFile[0:-3] + ’edt’, ‘wb’)</p>
<p>global i</p>
<p>i = 0</p>
<p>try:</p>
<p>fedt.seek(startPosition)</p>
<p>i = 0</p>
<p>blockStr = ’’</p>
<p>for eachLine in ftxt:</p>
<p>if eachLine != ‘n’ and i % 3 != 0:</p>
<p>blockStr += eachLine</p>
<p>if (i+2) % 3 == 0:</p>
<p>if isDebug:</p>
<p>print blockStr.decode(‘gbk’),</p>
<p>block = encode(blockStr[:-1].decode(‘gbk’))</p>
<p>fedt.write(block)</p>
<p>fedt.seek(640 - len(block), os.SEEK_CUR)</p>
<p>blockStr = ’’</p>
<p>i += 1</p>
<p>print u’%s -&gt; %s Convert successful’ %(ftxt.name, fedt.name)</p>
<p>except Exception, e:</p>
<p>print u’%s -&gt; %s Convert Errorn%s’ %(ftxt.name, fedt.name, e)</p>
<p>finally:</p>
<p>ftxt.close()</p>
<p>fedt.close()</p>
<p>if <strong>name</strong> == ‘<strong>main</strong>’:</p>
<p>welcome()</p>
<p>myInit()</p>
<p>while True:</p>
<p>print ‘n********Menu********’</p>
<p>print ‘1.edt-&gt;txtn2.txt-&gt;edtn3.view confign4.set confign0.exit’</p>
<p>mode = raw_input(u’Please choose:’)</p>
<p>if mode == ‘1’:</p>
<p>fileList = getFiles(‘.edt’)</p>
<p>if fileList != None:</p>
<p>print u’fiels ready to convert:%sn’ %fileList</p>
<p>raw_input(u’Press Enter to convert’)</p>
<p>for edtFile in fileList:</p>
<p>edtProcess(edtFile)</p>
<p>else:</p>
<p>print ‘There is no edt files!’</p>
<p>raw_input(‘Press Enter to continue’)</p>
<p>elif mode == ‘2’:</p>
<p>fileList = getFiles(‘.txt’)</p>
<p>if fileList != None:</p>
<p>print u’fiels ready to convert:%sn’ %fileList</p>
<p>raw_input(u’Press Enter to convert’)</p>
<p>for txtFile in fileList:</p>
<p>txtProcess(txtFile)</p>
<p>else:</p>
<p>print ‘There is no txt files!’</p>
<p>raw_input(‘Press Enter to continue’)</p>
<p>elif mode == ‘3’:</p>
<p>print ’’</p>
<p>viewConfig()</p>
<p>raw_input(‘Press Enter to continue’)</p>
<p>elif mode == ‘4’:</p>
<p>print ’’</p>
<p>setConfig()</p>
<p>raw_input(‘Press Enter to continue’)</p>
<p>elif mode == ‘0’:</p>
<p>break</p>
<p>else:</p>
<p>print ‘Error: Input error!!n’</p>
<p>raw_input(‘Press Enter to continue’)</p>
<p>点击这里<a href="https://4ocf5n.dijingchao.com/upload_dropbox/200911/edtTxtConvert_0_9.zip">下载源代码</a>（edtTxtConvert.py+config.cfg+reade me.txt，需要Python2.6以上），如果需要exe版本的程序，可以向我索取，也可以<a href="http://log4d.com/2009/09/python-program-will-be-compiled-into-an-executable-program-exe">使用py2exe自行编译</a>。</p>

            </div>
            <!-- /.entry-content -->
              
<hr>
<div class="panel">
<div class="panel-body">
   <small>原文链接: <a href="https://blog.alswl.com/2009/11/jagged-alliance-edt-txt-converter-v0-9/">https://blog.alswl.com/2009/11/jagged-alliance-edt-txt-converter-v0-9/</a></small><br>
   <small>3a1ff193cee606bd1e2ea554a16353ee</small><br>
   <small>欢迎关注我的微信公众号：<a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&wechat_redirect">窥豹</a></small><br>
   <small><img src="https://4ocf5n.dijingchao.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/></small>
   <small><img src="https://4ocf5n.dijingchao.com/upload_dropbox/meta/wechat-pay-s-crop.png"/></small>
</div>
</div>

    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'log4d'; // required: replace example with your forum shortname

                    var disqus_identifier = 'jagged-alliance-edt-txt-converter-v0-9';
                var disqus_url = 'https://blog.alswl.com/2009/11/jagged-alliance-edt-txt-converter-v0-9/';

            var disqus_config = function () {
                this.language = "en";
            };

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

    </section>
        </article>
    </section>

        </div>
        <div class="col-lg-3 col-lg-offset-2" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item"><a href="https://blog.alswl.com/atom.xml"><i class="fa fa-rss-square fa-lg"></i> RSS</a></li>
                    <li class="list-group-item"><a href="https://twitter.com/alswl"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                    <li class="list-group-item"><a href="https://github.com/alswl"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                    <li class="list-group-item"><a href="http://weibo.com/alswlx"><i class="fa fa-weibo fa-lg"></i> Weibo</a></li>
                  </ul>
                </li>




        </ul>
    </section>

</aside>        </div>
    <div class="col-lg-3" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><a href="https://blog.alswl.com/"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                    <ul class="list-group" id="categories">
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/coding/">
                                <i class="fa fa-folder-open fa-lg"></i> Coding
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/efficiency/">
                                <i class="fa fa-folder-open fa-lg"></i> Efficiency
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/fun/">
                                <i class="fa fa-folder-open fa-lg"></i> Fun
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/internet/">
                                <i class="fa fa-folder-open fa-lg"></i> Internet
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/life/">
                                <i class="fa fa-folder-open fa-lg"></i> Life
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/managment/">
                                <i class="fa fa-folder-open fa-lg"></i> Managment
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/sre/">
                                <i class="fa fa-folder-open fa-lg"></i> SRE
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/thinking/">
                                <i class="fa fa-folder-open fa-lg"></i> Thinking
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/ui/">
                                <i class="fa fa-folder-open fa-lg"></i> UI
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="https://blog.alswl.com/category/viewpoint/">
                                <i class="fa fa-folder-open fa-lg"></i> Viewpoint
                            </a>
                        </li>
                    </ul>
                </li>


        </ul>
    </section>

</aside>    </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2005-2022 alswl
            &middot; Powered by <a href="https://github.com/alswl/pelican-bootstrap3" target="_blank" style="font-weight: bold">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank" style="font-weight: bold">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank" style="font-weight: bold">Bootstrap</a>,
            <p>
              <small> <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license"><img alt="Creative Commons License" style="border-width:0" src="https://4ocf5n.dijingchao.com/upload_dropbox/meta/by-nc-nd_4-0_80x15.png"></a> Content licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license">Creative Commons Attribution 4.0 International-NonCommercial-NoDerivatives License</a>, except where indicated otherwise. </small>
            </p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://cdn.staticfile.org/jquery/1.11.0/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'log4d'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8822123-3']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->
</body>
</html>