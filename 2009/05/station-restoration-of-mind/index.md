

由于原来服务器被攻击，销售代表给我重新安排了一台主机，之前我做过一次数据备份，但是文件没有备份，左等右等，都不见服务器恢复，于是打定主意自己恢复自己的数据，
重建博客。

首先得确保手头有原始的数据，我当时在phpMyAdmin中导出了所有的数据保存为sql文档。

1.重新创建原始的WordPress，并把原来的一些插件和主题重新安装好。重新创建的数据库名称可能与原来的数据库名称有出入，就需要修改导出的sql文件。

2.比如我原始的数据库名称是alswl_wp，现在创建的数据库是dddspace_wp（记住哦，是全称，不是自己填的部分）。找到sql文件 ` --

-- 数据库: `alswl_wp`  
--  
CREATE DATABASE `alswl_wp` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;

USE `alswl_wp`;`

只保留 USE 'alswl_wp'，并且修改为USE
'dddspace_wp'，之所以不在这里创建，是因为一般空间管理器取消了phpMyAdmin创建数据库权限，只能在面板创建。

如果当初备份数据库是全部备份的话可能还会有其他的系统数据库，这些必须删除，保证sql文件只对dddspace_wp这个数据库进行增加表的操作

3.为了保证数据库数据正确，把WP自动创建的表删除，然后就可以导入sql文件执行了。

4.此时，数据已经恢复完毕，空间基本可以使用了，剩下的就是恢复文件。我重新关闭了所有插件再重新启用，保证插件重新执行一遍。另外，自己建立的页面会全部消失，必
须进入页面编辑更新一下，就可以了。

5.剩下的就是修改wp文件和修改css了，这是个耗时耗力的工作，得自己配合自己的插件慢慢修改。

希望这次收到影响的博客以后加强安全意识，经常备份数据和文件，呵呵


