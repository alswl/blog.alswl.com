<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>15 分钟学会 R 语言[译文] | Log4D</title>
<meta name="keywords" content="综合技术, r, 译文">
<meta name="description" content="仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。 比如 Learn X in Y minuts 就是我经常光顾的站点。 前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的 R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。 Learn X in Y minuts 的源码托管在 Github。 小柒被我逼着把这篇 R 语言教程 翻译到 R 语言教程中文版。 下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。 R 是一门统">
<meta name="author" content="alswl">
<link rel="canonical" href="https://blog.alswl.com/2013/10/r-tutorial/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1358339a9e54a395efcc4d8a05eb0ab354bd48c92d39ff71d33f2c2a9c66ea2d.css" integrity="sha256-E1gzmp5Uo5XvzE2KBesKs1S9SMktOf9x0z8sKpxm6i0=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-8822123-3', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="15 分钟学会 R 语言[译文]" />
<meta property="og:description" content="仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。 比如 Learn X in Y minuts 就是我经常光顾的站点。 前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的 R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。 Learn X in Y minuts 的源码托管在 Github。 小柒被我逼着把这篇 R 语言教程 翻译到 R 语言教程中文版。 下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。 R 是一门统" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.alswl.com/2013/10/r-tutorial/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-10-29T22:32:00+08:00" />
<meta property="article:modified_time" content="2013-10-29T22:32:00+08:00" /><meta property="og:site_name" content="Log4D" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="15 分钟学会 R 语言[译文]"/>
<meta name="twitter:description" content="仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。 比如 Learn X in Y minuts 就是我经常光顾的站点。 前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的 R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。 Learn X in Y minuts 的源码托管在 Github。 小柒被我逼着把这篇 R 语言教程 翻译到 R 语言教程中文版。 下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。 R 是一门统"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://blog.alswl.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "15 分钟学会 R 语言[译文]",
      "item": "https://blog.alswl.com/2013/10/r-tutorial/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "15 分钟学会 R 语言[译文]",
  "name": "15 分钟学会 R 语言[译文]",
  "description": "仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。 比如 Learn X in Y minuts 就是我经常光顾的站点。 前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的 R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。 Learn X in Y minuts 的源码托管在 Github。 小柒被我逼着把这篇 R 语言教程 翻译到 R 语言教程中文版。 下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。 R 是一门统",
  "keywords": [
    "综合技术", "r", "译文"
  ],
  "articleBody": "仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。 比如 Learn X in Y minuts 就是我经常光顾的站点。\n前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的 R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。\nLearn X in Y minuts 的源码托管在 Github。 小柒被我逼着把这篇 R 语言教程 翻译到 R 语言教程中文版。\n下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。\nR 是一门统计语言。它有很多数据分析和挖掘程序包。可以用来统计、分析和制图。 你也可以在 LaTeX 文档中运行 R 命令。\n# 评论以 # 开始 # R 语言原生不支持 多行注释 # 但是你可以像这样来多行注释 # 在窗口里按回车键可以执行一条命令 ################################################################### # 不用懂编程就可以开始动手了 ################################################################### data()\t# 浏览内建的数据集 data(rivers)\t# 北美主要河流的长度（数据集） ls()\t# 在工作空间中查看「河流」是否出现 head(rivers)\t# 撇一眼数据集 # 735 320 325 392 524 450 length(rivers)\t# 我们测量了多少条河流？ # 141 summary(rivers) # Min. 1st Qu. Median Mean 3rd Qu. Max. # 135.0 310.0 425.0 591.2 680.0 3710.0 stem(rivers)\t# 茎叶图（一种类似于直方图的展现形式） # # The decimal point is 2 digit(s) to the right of the | # # 0 | 4 # 2 | 011223334555566667778888899900001111223333344455555666688888999 # 4 | 111222333445566779001233344567 # 6 | 000112233578012234468 # 8 | 045790018 # 10 | 04507 # 12 | 1471 # 14 | 56 # 16 | 7 # 18 | 9 # 20 | # 22 | 25 # 24 | 3 # 26 | # 28 | # 30 | # 32 | # 34 | # 36 | 1 stem(log(rivers))\t# 查看数据集的方式既不是标准形式，也不是取log后的结果! 看起来，是钟形曲线形式的基本数据集 # The decimal point is 1 digit(s) to the left of the | # # 48 | 1 # 50 | # 52 | 15578 # 54 | 44571222466689 # 56 | 023334677000124455789 # 58 | 00122366666999933445777 # 60 | 122445567800133459 # 62 | 112666799035 # 64 | 00011334581257889 # 66 | 003683579 # 68 | 0019156 # 70 | 079357 # 72 | 89 # 74 | 84 # 76 | 56 # 78 | 4 # 80 | # 82 | 2 hist(rivers, col=\"#333333\", border=\"white\", breaks=25)\t# 试试用这些参数画画 （译者注：给 river 做统计频数直方图，包含了这些参数：数据源，颜色，边框，空格） hist(log(rivers), col=\"#333333\", border=\"white\", breaks=25)\t#你还可以做更多式样的绘图 # 还有其他一些简单的数据集可以被用来加载。R 语言包括了大量这种 data() data(discoveries) plot(discoveries, col=\"#333333\", lwd=3, xlab=\"Year\", main=\"Number of important discoveries per year\") # 译者注：参数为（数据源，颜色，线条宽度，X 轴名称，标题） plot(discoveries, col=\"#333333\", lwd=3, type = \"h\", xlab=\"Year\", main=\"Number of important discoveries per year\") # 除了按照默认的年份排序，我们还可以排序来发现特征 sort(discoveries) # [1] 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 # [26] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 # [51] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 # [76] 4 4 4 4 5 5 5 5 5 5 5 6 6 6 6 6 6 7 7 7 7 8 9 10 12 stem(discoveries, scale=2) # 译者注：茎叶图（数据，放大系数） # # The decimal point is at the | # # 0 | 000000000 # 1 | 000000000000 # 2 | 00000000000000000000000000 # 3 | 00000000000000000000 # 4 | 000000000000 # 5 | 0000000 # 6 | 000000 # 7 | 0000 # 8 | 0 # 9 | 0 # 10 | 0 # 11 | # 12 | 0 max(discoveries) # 12 summary(discoveries) # Min. 1st Qu. Median Mean 3rd Qu. Max. # 0.0 2.0 3.0 3.1 4.0 12.0 #基本的统计学操作也不需要任何编程知识 #随机生成数据 round(runif(7, min=.5, max=6.5)) # 译者注：runif 产生随机数，round 四舍五入 # 1 4 6 1 4 6 4 # 你输出的结果会和我们给出的不同，除非我们设置了相同的随机种子 random.seed(31337) #从标准高斯函数中随机生成 9 次 rnorm(9) # [1] 0.07528471 1.03499859 1.34809556 -0.82356087 0.61638975 -1.88757271 # [7] -0.59975593 0.57629164 1.08455362 ######################### # 基础编程 ######################### # 数值 #“数值”指的是双精度的浮点数 5\t# 5 class(5)\t# \"numeric\" 5e4\t# 50000\t# 用科学技术法方便的处理极大值、极小值或者可变的量级 6.02e23\t# 阿伏伽德罗常数# 1.6e-35\t# 布朗克长度 # 长整数并用 L 结尾 5L\t# 5 #输出5L class(5L)\t# \"integer\" # 可以自己试一试？用 class() 函数获取更多信息 # 事实上，你可以找一些文件查阅 `xyz` 以及xyz的差别 # `xyz` 用来查看源码实现，?xyz 用来看帮助 # 算法 10 + 66\t# 76 53.2 - 4\t# 49.2 2 * 2.0\t# 4 3L / 4\t# 0.75 3 %% 2\t# 1 # 特殊数值类型 class(NaN)\t# \"numeric\" class(Inf)\t# \"numeric\" class(-Inf)\t# \"numeric\"\t# 在以下场景中会用到 integrate( dnorm(x), 3, Inf ) -- 消除 Z 轴数据 # 但要注意，NaN 并不是唯一的特殊数值类型…… class(NA)\t# 看上面 class(NULL)\t# NULL # 简单列表 c(6, 8, 7, 5, 3, 0, 9)\t# 6 8 7 5 3 0 9 c('alef', 'bet', 'gimmel', 'dalet', 'he') c('Z', 'o', 'r', 'o') == \"Zoro\"\t# FALSE FALSE FALSE FALSE # 一些优雅的内置功能 5:15\t# 5 6 7 8 9 10 11 12 13 14 15 seq(from=0, to=31337, by=1337) # [1] 0 1337 2674 4011 5348 6685 8022 9359 10696 12033 13370 14707 # [13] 16044 17381 18718 20055 21392 22729 24066 25403 26740 28077 29414 30751 letters # [1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\" # [20] \"t\" \"u\" \"v\" \"w\" \"x\" \"y\" \"z\" month.abb\t# \"Jan\" \"Feb\" \"Mar\" \"Apr\" \"May\" \"Jun\" \"Jul\" \"Aug\" \"Sep\" \"Oct\" \"Nov\" \"Dec\" # Access the n'th element of a list with list.name[n] or sometimes list.name[[n]] # 使用 list.name[n] 来访问第 n 个列表元素，有时候需要使用 list.name[[n]] letters[18]\t# \"r\" LETTERS[13]\t# \"M\" month.name[9]\t# \"September\" c(6, 8, 7, 5, 3, 0, 9)[3]\t# 7 # 字符串 # 字符串和字符在 R 语言中没有区别 \"Horatio\"\t# \"Horatio\" class(\"Horatio\") # \"character\" substr(\"Fortuna multis dat nimis, nulli satis.\", 9, 15)\t# \"multis \" gsub('u', 'ø', \"Fortuna multis dat nimis, nulli satis.\")\t# \"Fortøna møltis dat nimis, nølli satis.\" # 逻辑值 # 布尔值 class(TRUE)\t# \"logical\" class(FALSE)\t# \"logical\" # 和我们预想的一样 TRUE == TRUE\t# TRUE TRUE == FALSE\t# FALSE FALSE != FALSE\t# FALSE FALSE != TRUE\t# TRUE # 缺失数据（NA）也是逻辑值 class(NA)\t# \"logical\" #定义NA为逻辑型 # 因子 # 因子是为数据分类排序设计的（像是排序小朋友们的年级或性别） levels(factor(c(\"female\", \"male\", \"male\", \"female\", \"NA\", \"female\")))\t# \"female\" \"male\" \"NA\" factor(c(\"female\", \"female\", \"male\", \"NA\", \"female\")) # female female male NA female # Levels: female male NA data(infert)\t# 自然以及引产导致的不育症 levels(infert$education)\t# \"0-5yrs\" \"6-11yrs\" \"12+ yrs\" # 变量 # 有许多种方式用来赋值 x = 5 # 这样可以 y \u003c- \"1\" # 更推荐这样 TRUE -\u003e z # 这样可行，但是很怪 #我们还可以使用强制转型 as.numeric(y)\t# 1 as.character(x)\t# \"5\" # 循环 # for 循环语句 for (i in 1:4) { print(i) } # while 循环 a \u003c- 10 while (a \u003e 4) { cat(a, \"...\", sep = \"\") a \u003c- a - 1 } # 记住，在 R 语言中 for / while 循环都很慢 # 建议使用 apply()（我们一会介绍）来错做一串数据（比如一列或者一行数据） # IF/ELSE # 再来看这些优雅的标准 if (4 \u003e 3) { print(\"Huzzah! It worked!\") } else { print(\"Noooo! This is blatantly illogical!\") } # =\u003e # [1] \"Huzzah! It worked!\" # 函数 # 定义如下 jiggle \u003c- function(x) { x + rnorm(x, sd=.1)\t#add in a bit of (controlled) noise return(x) } # 和其他 R 语言函数一样调用 jiggle(5)\t# 5±ε. 使用 set.seed(2716057) 后， jiggle(5)==5.005043 ######################### # 数据容器：vectors, matrices, data frames, and arrays ######################### # 单维度 # 你可以将目前我们学习到的任何类型矢量化，只要它们拥有相同的类型 vec \u003c- c(8, 9, 10, 11) vec\t# 8 9 10 11 # 矢量的类型是这一组数据元素的类型 class(vec)\t# \"numeric\" # If you vectorize items of different classes, weird coercions happen #如果你强制的将不同类型数值矢量化，会出现特殊值 c(TRUE, 4)\t# 1 4 c(\"dog\", TRUE, 4)\t# \"dog\" \"TRUE\" \"4\" #我们这样来取内部数据，（R 的下标索引顺序 1 开始） vec[1]\t# 8 # 我们可以根据条件查找特定数据 which(vec %% 2 == 0)\t# 1 3 # 抓取矢量中第一个和最后一个字符 head(vec, 1)\t# 8 tail(vec, 1)\t# 11 #如果下标溢出或不存会得到 NA vec[6]\t# NA # 你可以使用 length() 获取矢量的长度 length(vec)\t# 4 # 你可以直接操作矢量或者矢量的子集 vec * 4\t# 16 20 24 28 vec[2:3] * 5\t# 25 30 # 这里有许多内置的函数，来表现向量 mean(vec)\t# 9.5 var(vec)\t# 1.666667 sd(vec)\t# 1.290994 max(vec)\t# 11 min(vec)\t# 8 sum(vec)\t# 38 # 二维（相同元素类型） #你可以为同样类型的变量建立矩阵 mat \u003c- matrix(nrow = 3, ncol = 2, c(1,2,3,4,5,6)) mat # =\u003e # [,1] [,2] # [1,] 1 4 # [2,] 2 5 # [3,] 3 6 # 和 vector 不一样的是，一个矩阵的类型真的是 「matrix」，而不是内部元素的类型 class(mat) # =\u003e \"matrix\" # 访问第一行的字符 mat[1,]\t# 1 4 # 操作第一行数据 3 * mat[,1]\t# 3 6 9 # 访问一个特定数据 mat[3,2]\t# 6 # 转置整个矩阵（译者注：变成 2 行 3 列） t(mat) # =\u003e # [,1] [,2] [,3] # [1,] 1 2 3 # [2,] 4 5 6 # 使用 cbind() 函数把两个矩阵按列合并，形成新的矩阵 mat2 \u003c- cbind(1:4, c(\"dog\", \"cat\", \"bird\", \"dog\")) mat2 # =\u003e # [,1] [,2] # [1,] \"1\" \"dog\" # [2,] \"2\" \"cat\" # [3,] \"3\" \"bird\" # [4,] \"4\" \"dog\" class(mat2)\t# matrix # Again, note what happened! # 注意 # 因为矩阵内部元素必须包含同样的类型 # 所以现在每一个元素都转化成字符串 c(class(mat2[,1]), class(mat2[,2])) # 按行合并两个向量，建立新的矩阵 mat3 \u003c- rbind(c(1,2,4,5), c(6,7,0,4)) mat3 # =\u003e # [,1] [,2] [,3] [,4] # [1,] 1 2 4 5 # [2,] 6 7 0 4 # 哈哈，数据类型都一样的，没有发生强制转换，生活真美好 # 二维(不同的元素类型) # 利用 data frame 可以将不同类型数据放在一起 dat \u003c- data.frame(c(5,2,1,4), c(\"dog\", \"cat\", \"bird\", \"dog\")) names(dat) \u003c- c(\"number\", \"species\") # 给数据列命名 class(dat)\t# \"data.frame\" dat # =\u003e # number species # 1 5 dog # 2 2 cat # 3 1 bird # 4 4 dog class(dat$number)\t# \"numeric\" class(dat[,2])\t# \"factor\" # data.frame() 会将字符向量转换为 factor 向量 # 有很多精妙的方法来获取 data frame 的子数据集 dat$number\t# 5 2 1 4 dat[,1]\t# 5 2 1 4 dat[,\"number\"]\t# 5 2 1 4 # 多维（相同元素类型） # 使用 arry 创造一个 n 维的表格 # You can make a two-dimensional table (sort of like a matrix) # 你可以建立一个 2 维表格（有点像矩阵） array(c(c(1,2,4,5),c(8,9,3,6)), dim=c(2,4)) # =\u003e # [,1] [,2] [,3] [,4] # [1,] 1 4 8 3 # [2,] 2 5 9 6 #你也可以利用数组建立一个三维的矩阵 array(c(c(c(2,300,4),c(8,9,0)),c(c(5,60,0),c(66,7,847))), dim=c(3,2,2)) # =\u003e # , , 1 # # [,1] [,2] # [1,] 2 8 # [2,] 300 9 # [3,] 4 0 # # , , 2 # # [,1] [,2] # [1,] 5 66 # [2,] 60 7 # [3,] 0 847 #列表（多维的，不同类型的） # R语言有列表的形式 list1 \u003c- list(time = 1:40) list1$price = c(rnorm(40,.5*list1$time,4)) # 随机 list1 # You can get items in the list like so # 你可以这样获得列表的元素 list1$time # You can subset list items like vectors # 你也可以和矢量一样获取他们的子集 list1$price[4] ######################### # apply()函数家族 ######################### # 还记得 mat 么？ mat # =\u003e # [,1] [,2] # [1,] 1 4 # [2,] 2 5 # [3,] 3 6 # Use apply(X, MARGIN, FUN) to apply function FUN to a matrix X # 使用(X, MARGIN, FUN)将函数 FUN 应用到矩阵 X 的行 (MAR = 1) 或者 列 (MAR = 2) # That is, R does FUN to each row (or column) of X, much faster than a # R 在 X 的每一行/列使用 FUN，比循环要快很多 apply(mat, MAR = 2, myFunc) # =\u003e # [,1] [,2] # [1,] 3 15 # [2,] 7 19 # [3,] 11 23 # 还有其他家族函数 ?lapply, ?sapply # 不要被吓到，虽然许多人在此都被搞混 # plyr 程序包的作用是用来改进 apply() 函数家族 install.packages(\"plyr\") require(plyr) ?plyr ######################### # 载入数据 ######################### # \"pets.csv\" 是网上的一个文本 pets \u003c- read.csv(\"http://learnxinyminutes.com/docs/pets.csv\") pets head(pets, 2) # 前两行 tail(pets, 1) # 最后一行 # 以 .csv 格式来保存数据集或者矩阵 write.csv(pets, \"pets2.csv\") # 保存到新的文件 pets2.csv # set working directory with setwd(), look it up with getwd() # 使用 setwd() 改变工作目录，使用 getwd() 查看当前工作目录 # 尝试使用 ?read.csv 和 ?write.csv 来查看更多信息 ######################### # 画图 ######################### # 散点图 plot(list1$time, list1$price, main = \"fake data\") # 译者注：横轴 list1$time，纵轴 wlist1$price，标题 fake data # 回归图 linearModel \u003c- lm(price ~ time, data = list1) # 译者注：线性模型，数据集为list1，以价格对时间做相关分析模型 linearModel # 拟合结果 # 将拟合结果展示在图上，颜色设为红色 abline(linearModel, col = \"red\") # 也可以获取各种各样漂亮的分析图 plot(linearModel) # 直方图 hist(rpois(n = 10000, lambda = 5), col = \"thistle\") # 译者注：统计频数直方图 # 柱状图 barplot(c(1,4,5,1,2), names.arg = c(\"red\",\"blue\",\"purple\",\"green\",\"yellow\")) # 可以尝试着使用 ggplot2 程序包来美化图片 install.packages(\"ggplot2\") require(ggplot2) ?ggplot2 获得 R 从 http://www.r-project.org/ 获得安装包和图形化界面 RStudio 是另一个图形化界面 ",
  "wordCount" : "3601",
  "inLanguage": "en",
  "datePublished": "2013-10-29T22:32:00+08:00",
  "dateModified": "2013-10-29T22:32:00+08:00",
  "author":{
    "@type": "Person",
    "name": "alswl"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.alswl.com/2013/10/r-tutorial/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Log4D",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.alswl.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.alswl.com" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://en.blog.alswl.com/" title="English Blog">
                    <span>English Blog</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/archives/" title="存档">
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/about/" title="关于我">
                    <span>关于我</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.alswl.com">Home</a>&nbsp;»&nbsp;<a href="https://blog.alswl.com/posts/">Posts</a></div>
    <h1 class="post-title">
      15 分钟学会 R 语言[译文]
    </h1>
    <div class="post-meta"><span title='2013-10-29 22:32:00 +0800 +0800'>2013-10-29</span>&nbsp;·&nbsp;alswl

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#获得-r">获得 R</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><p>仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。
比如 <a href="http://learnxinyminutes.com/">Learn X in Y minuts</a> 就是我经常光顾的站点。</p>
<p>前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的
R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。</p>
<p>Learn X in Y minuts 的源码托管在 <a href="https://github.com/adambard/learnxinyminutes-docs">Github</a>。
小柒被我逼着把这篇 <a href="http://learnxinyminutes.com/docs/r/">R 语言教程</a>
翻译到 <a href="http://learnxinyminutes.com/docs/zh-cn/r-cn/">R 语言教程中文版</a>。</p>
<p>下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。</p>
<hr />
<p>R 是一门统计语言。它有很多数据分析和挖掘程序包。可以用来统计、分析和制图。
你也可以在 LaTeX 文档中运行 <code>R</code> 命令。</p>
<!-- more -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 评论以 # 开始</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># R 语言原生不支持 多行注释</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 但是你可以像这样来多行注释</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 在窗口里按回车键可以执行一条命令</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">###################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 不用懂编程就可以开始动手了</span>
</span></span><span class="line"><span class="cl"><span class="c1">###################################################################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="p">()</span>	<span class="c1"># 浏览内建的数据集</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="p">(</span><span class="n">rivers</span><span class="p">)</span>	<span class="c1"># 北美主要河流的长度（数据集）</span>
</span></span><span class="line"><span class="cl"><span class="n">ls</span><span class="p">()</span>	<span class="c1"># 在工作空间中查看「河流」是否出现</span>
</span></span><span class="line"><span class="cl"><span class="n">head</span><span class="p">(</span><span class="n">rivers</span><span class="p">)</span>	<span class="c1"># 撇一眼数据集</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 735 320 325 392 524 450</span>
</span></span><span class="line"><span class="cl"><span class="n">length</span><span class="p">(</span><span class="n">rivers</span><span class="p">)</span>	<span class="c1"># 我们测量了多少条河流？</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 141</span>
</span></span><span class="line"><span class="cl"><span class="n">summary</span><span class="p">(</span><span class="n">rivers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  135.0   310.0   425.0   591.2   680.0  3710.0</span>
</span></span><span class="line"><span class="cl"><span class="n">stem</span><span class="p">(</span><span class="n">rivers</span><span class="p">)</span>	<span class="c1"># 茎叶图（一种类似于直方图的展现形式）</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  The decimal point is 2 digit(s) to the right of the |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   0 | 4</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   2 | 011223334555566667778888899900001111223333344455555666688888999</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   4 | 111222333445566779001233344567</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   6 | 000112233578012234468</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   8 | 045790018</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  10 | 04507</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  12 | 1471</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  14 | 56</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  16 | 7</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  18 | 9</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  20 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  22 | 25</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  24 | 3</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  26 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  28 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  30 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  32 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  34 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  36 | 1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">stem</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">rivers</span><span class="p">))</span>	<span class="c1"># 查看数据集的方式既不是标准形式，也不是取log后的结果! 看起来，是钟形曲线形式的基本数据集</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#  The decimal point is 1 digit(s) to the left of the |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  48 | 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  50 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  52 | 15578</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  54 | 44571222466689</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  56 | 023334677000124455789</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  58 | 00122366666999933445777</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  60 | 122445567800133459</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  62 | 112666799035</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  64 | 00011334581257889</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  66 | 003683579</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  68 | 0019156</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  70 | 079357</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  72 | 89</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  74 | 84</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  76 | 56</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  78 | 4</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  80 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  82 | 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">hist</span><span class="p">(</span><span class="n">rivers</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&#34;#333333&#34;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="s2">&#34;white&#34;</span><span class="p">,</span> <span class="n">breaks</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>	<span class="c1"># 试试用这些参数画画 （译者注：给 river 做统计频数直方图，包含了这些参数：数据源，颜色，边框，空格）</span>
</span></span><span class="line"><span class="cl"><span class="n">hist</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">rivers</span><span class="p">),</span> <span class="n">col</span><span class="o">=</span><span class="s2">&#34;#333333&#34;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="s2">&#34;white&#34;</span><span class="p">,</span> <span class="n">breaks</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>	<span class="c1">#你还可以做更多式样的绘图</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 还有其他一些简单的数据集可以被用来加载。R 语言包括了大量这种 data()</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="p">(</span><span class="n">discoveries</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plot</span><span class="p">(</span><span class="n">discoveries</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&#34;#333333&#34;</span><span class="p">,</span> <span class="n">lwd</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">xlab</span><span class="o">=</span><span class="s2">&#34;Year&#34;</span><span class="p">,</span> <span class="n">main</span><span class="o">=</span><span class="s2">&#34;Number of important discoveries per year&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 译者注：参数为（数据源，颜色，线条宽度，X 轴名称，标题）</span>
</span></span><span class="line"><span class="cl"><span class="n">plot</span><span class="p">(</span><span class="n">discoveries</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&#34;#333333&#34;</span><span class="p">,</span> <span class="n">lwd</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&#34;h&#34;</span><span class="p">,</span> <span class="n">xlab</span><span class="o">=</span><span class="s2">&#34;Year&#34;</span><span class="p">,</span> <span class="n">main</span><span class="o">=</span><span class="s2">&#34;Number of important discoveries per year&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 除了按照默认的年份排序，我们还可以排序来发现特征</span>
</span></span><span class="line"><span class="cl"><span class="n">sort</span><span class="p">(</span><span class="n">discoveries</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  [1]  0  0  0  0  0  0  0  0  0  1  1  1  1  1  1  1  1  1  1  1  1  2  2  2  2</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [26]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  3  3  3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [51]  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  4  4  4  4  4  4  4  4</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [76]  4  4  4  4  5  5  5  5  5  5  5  6  6  6  6  6  6  7  7  7  7  8  9 10 12</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">stem</span><span class="p">(</span><span class="n">discoveries</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># 译者注：茎叶图（数据，放大系数）</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  The decimal point is at the |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   0 | 000000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   1 | 000000000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   2 | 00000000000000000000000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   3 | 00000000000000000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   4 | 000000000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   5 | 0000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   6 | 000000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   7 | 0000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   8 | 0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   9 | 0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  10 | 0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  11 |</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  12 | 0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">max</span><span class="p">(</span><span class="n">discoveries</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 12</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">summary</span><span class="p">(</span><span class="n">discoveries</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    0.0     2.0     3.0     3.1     4.0    12.0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#基本的统计学操作也不需要任何编程知识</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#随机生成数据</span>
</span></span><span class="line"><span class="cl"><span class="nb">round</span><span class="p">(</span><span class="n">runif</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">6.5</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 译者注：runif 产生随机数，round 四舍五入</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1 4 6 1 4 6 4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 你输出的结果会和我们给出的不同，除非我们设置了相同的随机种子 random.seed(31337)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#从标准高斯函数中随机生成 9 次</span>
</span></span><span class="line"><span class="cl"><span class="n">rnorm</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1]  0.07528471  1.03499859  1.34809556 -0.82356087  0.61638975 -1.88757271</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [7] -0.59975593  0.57629164  1.08455362</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 基础编程</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 数值</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#“数值”指的是双精度的浮点数</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span>	<span class="c1"># 5</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>	<span class="c1"># &#34;numeric&#34;</span>
</span></span><span class="line"><span class="cl"><span class="mf">5e4</span>	<span class="c1"># 50000				# 用科学技术法方便的处理极大值、极小值或者可变的量级</span>
</span></span><span class="line"><span class="cl"><span class="mf">6.02e23</span>	<span class="c1"># 阿伏伽德罗常数#</span>
</span></span><span class="line"><span class="cl"><span class="mf">1.6e-35</span>	<span class="c1"># 布朗克长度</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 长整数并用 L 结尾</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span><span class="n">L</span>	<span class="c1"># 5</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出5L</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="mi">5</span><span class="n">L</span><span class="p">)</span>	<span class="c1"># &#34;integer&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 可以自己试一试？用 class() 函数获取更多信息</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 事实上，你可以找一些文件查阅 `xyz` 以及xyz的差别</span>
</span></span><span class="line"><span class="cl"><span class="c1"># `xyz` 用来查看源码实现，?xyz 用来看帮助</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 算法</span>
</span></span><span class="line"><span class="cl"><span class="mi">10</span> <span class="o">+</span> <span class="mi">66</span>	<span class="c1"># 76</span>
</span></span><span class="line"><span class="cl"><span class="mf">53.2</span> <span class="o">-</span> <span class="mi">4</span>	<span class="c1"># 49.2</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span> <span class="o">*</span> <span class="mf">2.0</span>	<span class="c1"># 4</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span><span class="n">L</span> <span class="o">/</span> <span class="mi">4</span>	<span class="c1"># 0.75</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span> <span class="o">%%</span> <span class="mi">2</span>	<span class="c1"># 1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 特殊数值类型</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">NaN</span><span class="p">)</span>	<span class="c1"># &#34;numeric&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">Inf</span><span class="p">)</span>	<span class="c1"># &#34;numeric&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="o">-</span><span class="n">Inf</span><span class="p">)</span>	<span class="c1"># &#34;numeric&#34;		# 在以下场景中会用到 integrate( dnorm(x), 3, Inf ) -- 消除 Z 轴数据</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 但要注意，NaN 并不是唯一的特殊数值类型……</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>	<span class="c1"># 看上面</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">NULL</span><span class="p">)</span>	<span class="c1"># NULL</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 简单列表</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>	<span class="c1"># 6 8 7 5 3 0 9</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="s1">&#39;alef&#39;</span><span class="p">,</span> <span class="s1">&#39;bet&#39;</span><span class="p">,</span> <span class="s1">&#39;gimmel&#39;</span><span class="p">,</span> <span class="s1">&#39;dalet&#39;</span><span class="p">,</span> <span class="s1">&#39;he&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&#34;Zoro&#34;</span>	<span class="c1"># FALSE FALSE FALSE FALSE</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 一些优雅的内置功能</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span><span class="p">:</span><span class="mi">15</span>	<span class="c1"># 5  6  7  8  9 10 11 12 13 14 15</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">31337</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="mi">1337</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  [1]     0  1337  2674  4011  5348  6685  8022  9359 10696 12033 13370 14707</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [13] 16044 17381 18718 20055 21392 22729 24066 25403 26740 28077 29414 30751</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  [1] &#34;a&#34; &#34;b&#34; &#34;c&#34; &#34;d&#34; &#34;e&#34; &#34;f&#34; &#34;g&#34; &#34;h&#34; &#34;i&#34; &#34;j&#34; &#34;k&#34; &#34;l&#34; &#34;m&#34; &#34;n&#34; &#34;o&#34; &#34;p&#34; &#34;q&#34; &#34;r&#34; &#34;s&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [20] &#34;t&#34; &#34;u&#34; &#34;v&#34; &#34;w&#34; &#34;x&#34; &#34;y&#34; &#34;z&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">month</span><span class="o">.</span><span class="n">abb</span>	<span class="c1"># &#34;Jan&#34; &#34;Feb&#34; &#34;Mar&#34; &#34;Apr&#34; &#34;May&#34; &#34;Jun&#34; &#34;Jul&#34; &#34;Aug&#34; &#34;Sep&#34; &#34;Oct&#34; &#34;Nov&#34; &#34;Dec&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Access the n&#39;th element of a list with list.name[n] or sometimes list.name[[n]]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 使用 list.name[n] 来访问第 n 个列表元素，有时候需要使用 list.name[[n]]</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span>	<span class="c1"># &#34;r&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">LETTERS</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span>	<span class="c1"># &#34;M&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">month</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>	<span class="c1"># &#34;September&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>	<span class="c1"># 7</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 字符串</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 字符串和字符在 R 语言中没有区别</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Horatio&#34;</span>	<span class="c1"># &#34;Horatio&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="s2">&#34;Horatio&#34;</span><span class="p">)</span> <span class="c1"># &#34;character&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">substr</span><span class="p">(</span><span class="s2">&#34;Fortuna multis dat nimis, nulli satis.&#34;</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>	<span class="c1"># &#34;multis &#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">gsub</span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;ø&#39;</span><span class="p">,</span> <span class="s2">&#34;Fortuna multis dat nimis, nulli satis.&#34;</span><span class="p">)</span>	<span class="c1"># &#34;Fortøna møltis dat nimis, nølli satis.&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 逻辑值</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 布尔值</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">TRUE</span><span class="p">)</span>	<span class="c1"># &#34;logical&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">FALSE</span><span class="p">)</span>	<span class="c1"># &#34;logical&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 和我们预想的一样</span>
</span></span><span class="line"><span class="cl"><span class="n">TRUE</span> <span class="o">==</span> <span class="n">TRUE</span>	<span class="c1"># TRUE</span>
</span></span><span class="line"><span class="cl"><span class="n">TRUE</span> <span class="o">==</span> <span class="n">FALSE</span>	<span class="c1"># FALSE</span>
</span></span><span class="line"><span class="cl"><span class="n">FALSE</span> <span class="o">!=</span> <span class="n">FALSE</span>	<span class="c1"># FALSE</span>
</span></span><span class="line"><span class="cl"><span class="n">FALSE</span> <span class="o">!=</span> <span class="n">TRUE</span>	<span class="c1"># TRUE</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 缺失数据（NA）也是逻辑值</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>	<span class="c1"># &#34;logical&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#定义NA为逻辑型</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 因子</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 因子是为数据分类排序设计的（像是排序小朋友们的年级或性别）</span>
</span></span><span class="line"><span class="cl"><span class="n">levels</span><span class="p">(</span><span class="n">factor</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="s2">&#34;female&#34;</span><span class="p">,</span> <span class="s2">&#34;male&#34;</span><span class="p">,</span> <span class="s2">&#34;male&#34;</span><span class="p">,</span> <span class="s2">&#34;female&#34;</span><span class="p">,</span> <span class="s2">&#34;NA&#34;</span><span class="p">,</span> <span class="s2">&#34;female&#34;</span><span class="p">)))</span>	<span class="c1"># &#34;female&#34; &#34;male&#34;   &#34;NA&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">factor</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="s2">&#34;female&#34;</span><span class="p">,</span> <span class="s2">&#34;female&#34;</span><span class="p">,</span> <span class="s2">&#34;male&#34;</span><span class="p">,</span> <span class="s2">&#34;NA&#34;</span><span class="p">,</span> <span class="s2">&#34;female&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  female female male   NA     female</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Levels: female male NA</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="p">(</span><span class="n">infert</span><span class="p">)</span>	<span class="c1"># 自然以及引产导致的不育症</span>
</span></span><span class="line"><span class="cl"><span class="n">levels</span><span class="p">(</span><span class="n">infert</span><span class="err">$</span><span class="n">education</span><span class="p">)</span>	<span class="c1"># &#34;0-5yrs&#34;  &#34;6-11yrs&#34; &#34;12+ yrs&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 变量</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 有许多种方式用来赋值</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># 这样可以</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">&lt;-</span> <span class="s2">&#34;1&#34;</span> <span class="c1"># 更推荐这样</span>
</span></span><span class="line"><span class="cl"><span class="n">TRUE</span> <span class="o">-&gt;</span> <span class="n">z</span> <span class="c1"># 这样可行，但是很怪</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#我们还可以使用强制转型</span>
</span></span><span class="line"><span class="cl"><span class="k">as</span><span class="o">.</span><span class="n">numeric</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>	<span class="c1"># 1</span>
</span></span><span class="line"><span class="cl"><span class="k">as</span><span class="o">.</span><span class="n">character</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>	<span class="c1"># &#34;5&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 循环</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># for 循环语句</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># while 循环</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span> <span class="o">&lt;-</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cat</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s2">&#34;...&#34;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">a</span> <span class="o">&lt;-</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 记住，在 R 语言中 for / while 循环都很慢</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 建议使用 apply()（我们一会介绍）来错做一串数据（比如一列或者一行数据）</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># IF/ELSE</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 再来看这些优雅的标准</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="mi">4</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Huzzah! It worked!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Noooo! This is blatantly illogical!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1] &#34;Huzzah! It worked!&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 函数</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 定义如下</span>
</span></span><span class="line"><span class="cl"><span class="n">jiggle</span> <span class="o">&lt;-</span> <span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">x</span> <span class="o">+</span> <span class="n">rnorm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">.1</span><span class="p">)</span>	<span class="c1">#add in a bit of (controlled) noise</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 和其他 R 语言函数一样调用</span>
</span></span><span class="line"><span class="cl"><span class="n">jiggle</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>	<span class="c1"># 5±ε. 使用 set.seed(2716057) 后， jiggle(5)==5.005043</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 数据容器：vectors, matrices, data frames, and arrays</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 单维度</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 你可以将目前我们学习到的任何类型矢量化，只要它们拥有相同的类型</span>
</span></span><span class="line"><span class="cl"><span class="n">vec</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">vec</span>	<span class="c1">#  8  9 10 11</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 矢量的类型是这一组数据元素的类型</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># &#34;numeric&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># If you vectorize items of different classes, weird coercions happen</span>
</span></span><span class="line"><span class="cl"><span class="c1">#如果你强制的将不同类型数值矢量化，会出现特殊值</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="n">TRUE</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>	<span class="c1"># 1 4</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="s2">&#34;dog&#34;</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>	<span class="c1"># &#34;dog&#34;  &#34;TRUE&#34; &#34;4&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#我们这样来取内部数据，（R 的下标索引顺序 1 开始）</span>
</span></span><span class="line"><span class="cl"><span class="n">vec</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>	<span class="c1"># 8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 我们可以根据条件查找特定数据</span>
</span></span><span class="line"><span class="cl"><span class="n">which</span><span class="p">(</span><span class="n">vec</span> <span class="o">%%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>	<span class="c1"># 1 3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 抓取矢量中第一个和最后一个字符</span>
</span></span><span class="line"><span class="cl"><span class="n">head</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>	<span class="c1"># 8</span>
</span></span><span class="line"><span class="cl"><span class="n">tail</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>	<span class="c1"># 11</span>
</span></span><span class="line"><span class="cl"><span class="c1">#如果下标溢出或不存会得到 NA</span>
</span></span><span class="line"><span class="cl"><span class="n">vec</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>	<span class="c1"># NA</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 你可以使用 length() 获取矢量的长度</span>
</span></span><span class="line"><span class="cl"><span class="n">length</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 你可以直接操作矢量或者矢量的子集</span>
</span></span><span class="line"><span class="cl"><span class="n">vec</span> <span class="o">*</span> <span class="mi">4</span>	<span class="c1"># 16 20 24 28</span>
</span></span><span class="line"><span class="cl"><span class="n">vec</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>	<span class="c1"># 25 30</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 这里有许多内置的函数，来表现向量</span>
</span></span><span class="line"><span class="cl"><span class="n">mean</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 9.5</span>
</span></span><span class="line"><span class="cl"><span class="n">var</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 1.666667</span>
</span></span><span class="line"><span class="cl"><span class="n">sd</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 1.290994</span>
</span></span><span class="line"><span class="cl"><span class="nb">max</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 11</span>
</span></span><span class="line"><span class="cl"><span class="nb">min</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 8</span>
</span></span><span class="line"><span class="cl"><span class="nb">sum</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>	<span class="c1"># 38</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 二维（相同元素类型）</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#你可以为同样类型的变量建立矩阵</span>
</span></span><span class="line"><span class="cl"><span class="n">mat</span> <span class="o">&lt;-</span> <span class="n">matrix</span><span class="p">(</span><span class="n">nrow</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">ncol</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">mat</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    1    4</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]    2    5</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [3,]    3    6</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 和 vector 不一样的是，一个矩阵的类型真的是 「matrix」，而不是内部元素的类型</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span> <span class="c1"># =&gt; &#34;matrix&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 访问第一行的字符</span>
</span></span><span class="line"><span class="cl"><span class="n">mat</span><span class="p">[</span><span class="mi">1</span><span class="p">,]</span>	<span class="c1"># 1 4</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 操作第一行数据</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span> <span class="o">*</span> <span class="n">mat</span><span class="p">[,</span><span class="mi">1</span><span class="p">]</span>	<span class="c1"># 3 6 9</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 访问一个特定数据</span>
</span></span><span class="line"><span class="cl"><span class="n">mat</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>	<span class="c1"># 6</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 转置整个矩阵（译者注：变成 2 行 3 列）</span>
</span></span><span class="line"><span class="cl"><span class="n">t</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2] [,3]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    1    2    3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]    4    5    6</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 使用 cbind() 函数把两个矩阵按列合并，形成新的矩阵</span>
</span></span><span class="line"><span class="cl"><span class="n">mat2</span> <span class="o">&lt;-</span> <span class="n">cbind</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="n">c</span><span class="p">(</span><span class="s2">&#34;dog&#34;</span><span class="p">,</span> <span class="s2">&#34;cat&#34;</span><span class="p">,</span> <span class="s2">&#34;bird&#34;</span><span class="p">,</span> <span class="s2">&#34;dog&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">mat2</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,] &#34;1&#34;  &#34;dog&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,] &#34;2&#34;  &#34;cat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [3,] &#34;3&#34;  &#34;bird&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [4,] &#34;4&#34;  &#34;dog&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">mat2</span><span class="p">)</span>	<span class="c1"># matrix</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Again, note what happened!</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 注意</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 因为矩阵内部元素必须包含同样的类型</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 所以现在每一个元素都转化成字符串</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span><span class="p">(</span><span class="n">class</span><span class="p">(</span><span class="n">mat2</span><span class="p">[,</span><span class="mi">1</span><span class="p">]),</span> <span class="n">class</span><span class="p">(</span><span class="n">mat2</span><span class="p">[,</span><span class="mi">2</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 按行合并两个向量，建立新的矩阵</span>
</span></span><span class="line"><span class="cl"><span class="n">mat3</span> <span class="o">&lt;-</span> <span class="n">rbind</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">c</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">mat3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2] [,3] [,4]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    1    2    4    5</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]    6    7    0    4</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 哈哈，数据类型都一样的，没有发生强制转换，生活真美好</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 二维(不同的元素类型)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 利用 data frame 可以将不同类型数据放在一起</span>
</span></span><span class="line"><span class="cl"><span class="n">dat</span> <span class="o">&lt;-</span> <span class="n">data</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">c</span><span class="p">(</span><span class="s2">&#34;dog&#34;</span><span class="p">,</span> <span class="s2">&#34;cat&#34;</span><span class="p">,</span> <span class="s2">&#34;bird&#34;</span><span class="p">,</span> <span class="s2">&#34;dog&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">names</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&#34;number&#34;</span><span class="p">,</span> <span class="s2">&#34;species&#34;</span><span class="p">)</span> <span class="c1"># 给数据列命名</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span>	<span class="c1"># &#34;data.frame&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">dat</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   number species</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1      5     dog</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2      2     cat</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3      1    bird</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4      4     dog</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">dat</span><span class="err">$</span><span class="n">number</span><span class="p">)</span>	<span class="c1"># &#34;numeric&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">class</span><span class="p">(</span><span class="n">dat</span><span class="p">[,</span><span class="mi">2</span><span class="p">])</span>	<span class="c1"># &#34;factor&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># data.frame() 会将字符向量转换为 factor 向量</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 有很多精妙的方法来获取 data frame 的子数据集</span>
</span></span><span class="line"><span class="cl"><span class="n">dat</span><span class="err">$</span><span class="n">number</span>	<span class="c1"># 5 2 1 4</span>
</span></span><span class="line"><span class="cl"><span class="n">dat</span><span class="p">[,</span><span class="mi">1</span><span class="p">]</span>	<span class="c1"># 5 2 1 4</span>
</span></span><span class="line"><span class="cl"><span class="n">dat</span><span class="p">[,</span><span class="s2">&#34;number&#34;</span><span class="p">]</span>	<span class="c1"># 5 2 1 4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 多维（相同元素类型）</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 使用 arry 创造一个 n 维的表格</span>
</span></span><span class="line"><span class="cl"><span class="c1"># You can make a two-dimensional table (sort of like a matrix)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 你可以建立一个 2 维表格（有点像矩阵）</span>
</span></span><span class="line"><span class="cl"><span class="n">array</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">c</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)),</span> <span class="n">dim</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2] [,3] [,4]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    1    4    8    3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]    2    5    9    6</span>
</span></span><span class="line"><span class="cl"><span class="c1">#你也可以利用数组建立一个三维的矩阵</span>
</span></span><span class="line"><span class="cl"><span class="n">array</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">c</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span><span class="n">c</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">c</span><span class="p">(</span><span class="mi">66</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">847</span><span class="p">))),</span> <span class="n">dim</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># , , 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    2    8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]  300    9</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [3,]    4    0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># , , 2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    5   66</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]   60    7</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [3,]    0  847</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#列表（多维的，不同类型的）</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># R语言有列表的形式</span>
</span></span><span class="line"><span class="cl"><span class="n">list1</span> <span class="o">&lt;-</span> <span class="nb">list</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">40</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">list1</span><span class="err">$</span><span class="n">price</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mf">.5</span><span class="o">*</span><span class="n">list1</span><span class="err">$</span><span class="n">time</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># 随机</span>
</span></span><span class="line"><span class="cl"><span class="n">list1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># You can get items in the list like so</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 你可以这样获得列表的元素</span>
</span></span><span class="line"><span class="cl"><span class="n">list1</span><span class="err">$</span><span class="n">time</span>
</span></span><span class="line"><span class="cl"><span class="c1"># You can subset list items like vectors</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 你也可以和矢量一样获取他们的子集</span>
</span></span><span class="line"><span class="cl"><span class="n">list1</span><span class="err">$</span><span class="n">price</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl"><span class="c1"># apply()函数家族</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 还记得 mat 么？</span>
</span></span><span class="line"><span class="cl"><span class="n">mat</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    1    4</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]    2    5</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [3,]    3    6</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Use apply(X, MARGIN, FUN) to apply function FUN to a matrix X</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 使用(X, MARGIN, FUN)将函数 FUN 应用到矩阵 X 的行 (MAR = 1) 或者 列 (MAR = 2)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># That is, R does FUN to each row (or column) of X, much faster than a</span>
</span></span><span class="line"><span class="cl"><span class="c1"># R 在 X 的每一行/列使用 FUN，比循环要快很多</span>
</span></span><span class="line"><span class="cl"><span class="n">apply</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">MAR</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">myFunc</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># =&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#      [,1] [,2]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [1,]    3   15</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [2,]    7   19</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [3,]   11   23</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 还有其他家族函数 ?lapply, ?sapply</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 不要被吓到，虽然许多人在此都被搞混</span>
</span></span><span class="line"><span class="cl"><span class="c1"># plyr 程序包的作用是用来改进 apply() 函数家族</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&#34;plyr&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">require</span><span class="p">(</span><span class="n">plyr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="err">?</span><span class="n">plyr</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 载入数据</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># &#34;pets.csv&#34; 是网上的一个文本</span>
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">&lt;-</span> <span class="n">read</span><span class="o">.</span><span class="n">csv</span><span class="p">(</span><span class="s2">&#34;http://learnxinyminutes.com/docs/pets.csv&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pets</span>
</span></span><span class="line"><span class="cl"><span class="n">head</span><span class="p">(</span><span class="n">pets</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># 前两行</span>
</span></span><span class="line"><span class="cl"><span class="n">tail</span><span class="p">(</span><span class="n">pets</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># 最后一行</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 以 .csv 格式来保存数据集或者矩阵</span>
</span></span><span class="line"><span class="cl"><span class="n">write</span><span class="o">.</span><span class="n">csv</span><span class="p">(</span><span class="n">pets</span><span class="p">,</span> <span class="s2">&#34;pets2.csv&#34;</span><span class="p">)</span> <span class="c1"># 保存到新的文件 pets2.csv</span>
</span></span><span class="line"><span class="cl"><span class="c1"># set working directory with setwd(), look it up with getwd()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 使用 setwd() 改变工作目录，使用 getwd() 查看当前工作目录</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 尝试使用 ?read.csv 和 ?write.csv 来查看更多信息</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 画图</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 散点图</span>
</span></span><span class="line"><span class="cl"><span class="n">plot</span><span class="p">(</span><span class="n">list1</span><span class="err">$</span><span class="n">time</span><span class="p">,</span> <span class="n">list1</span><span class="err">$</span><span class="n">price</span><span class="p">,</span> <span class="n">main</span> <span class="o">=</span> <span class="s2">&#34;fake data&#34;</span><span class="p">)</span> <span class="c1"># 译者注：横轴 list1$time，纵轴 wlist1$price，标题 fake data</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 回归图</span>
</span></span><span class="line"><span class="cl"><span class="n">linearModel</span> <span class="o">&lt;-</span> <span class="n">lm</span><span class="p">(</span><span class="n">price</span>  <span class="o">~</span> <span class="n">time</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">list1</span><span class="p">)</span> <span class="c1"># 译者注：线性模型，数据集为list1，以价格对时间做相关分析模型</span>
</span></span><span class="line"><span class="cl"><span class="n">linearModel</span> <span class="c1"># 拟合结果</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 将拟合结果展示在图上，颜色设为红色</span>
</span></span><span class="line"><span class="cl"><span class="n">abline</span><span class="p">(</span><span class="n">linearModel</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="s2">&#34;red&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 也可以获取各种各样漂亮的分析图</span>
</span></span><span class="line"><span class="cl"><span class="n">plot</span><span class="p">(</span><span class="n">linearModel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 直方图</span>
</span></span><span class="line"><span class="cl"><span class="n">hist</span><span class="p">(</span><span class="n">rpois</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">,</span> <span class="k">lambda</span> <span class="o">=</span> <span class="mi">5</span><span class="p">),</span> <span class="n">col</span> <span class="o">=</span> <span class="s2">&#34;thistle&#34;</span><span class="p">)</span> <span class="c1"># 译者注：统计频数直方图</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 柱状图</span>
</span></span><span class="line"><span class="cl"><span class="n">barplot</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">names</span><span class="o">.</span><span class="n">arg</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">&#34;red&#34;</span><span class="p">,</span><span class="s2">&#34;blue&#34;</span><span class="p">,</span><span class="s2">&#34;purple&#34;</span><span class="p">,</span><span class="s2">&#34;green&#34;</span><span class="p">,</span><span class="s2">&#34;yellow&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 可以尝试着使用 ggplot2 程序包来美化图片</span>
</span></span><span class="line"><span class="cl"><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&#34;ggplot2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">require</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="err">?</span><span class="n">ggplot2</span>
</span></span></code></pre></div><h2 id="获得-r">获得 R<a hidden class="anchor" aria-hidden="true" href="#获得-r">#</a></h2>
<ul>
<li>从 <a href="http://www.r-project.org/">http://www.r-project.org/</a> 获得安装包和图形化界面</li>
<li><a href="http://www.rstudio.com/ide/">RStudio</a> 是另一个图形化界面</li>
</ul>

<hr />
<p>原文链接: <a href="https://blog.alswl.com/2013/10/r-tutorial/">15 分钟学会 R 语言[译文] | Log4D</a></p>
<p>3a1ff193cee606bd1e2ea554a16353ee</p>
<p>欢迎关注我的微信公众号：<a
href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect">窥豹</a></p>
<figure>
<img
src="https://d05fae.dijingchao.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"
alt="窥豹" />
<figcaption aria-hidden="true">窥豹</figcaption>
</figure>

    
  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.alswl.com/tags/%E7%BB%BC%E5%90%88%E6%8A%80%E6%9C%AF/">综合技术</a></li>
      <li><a href="https://blog.alswl.com/tags/r/">r</a></li>
      <li><a href="https://blog.alswl.com/tags/%E8%AF%91%E6%96%87/">译文</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.alswl.com/2013/11/python-gdb/">
    <span class="title">« Prev</span>
    <br>
    <span>在 Python 中使用 GDB 来调试[译文]</span>
  </a>
  <a class="next" href="https://blog.alswl.com/2013/06/web-technology/">
    <span class="title">Next »</span>
    <br>
    <span>读《大规模Web服务开发技术》</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://blog.alswl.com">Log4D</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
