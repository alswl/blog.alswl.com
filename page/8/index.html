<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.148.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Log4D</title>

<meta name="description" content="">
<meta name="author" content="alswl">
<link rel="canonical" href="https://blog.alswl.com/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.32a704646448b3fce593e6753b136a11323537e9a22450128e8d45b57c1848db.css" integrity="sha256-MqcEZGRIs/zlk&#43;Z1OxNqETI1N&#43;miJFASjo1FtXwYSNs=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/atom+xml" href="https://blog.alswl.com/atom.xml">
<link rel="alternate" type="application/rss+xml" href="https://blog.alswl.com/rss.xml">
<link rel="alternate" hreflang="en" href="https://blog.alswl.com/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-7S40P40QGJ"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-7S40P40QGJ');
        }
      </script><meta property="og:url" content="https://blog.alswl.com/">
  <meta property="og:site_name" content="Log4D">
  <meta property="og:title" content="Log4D">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Log4D">
<meta name="twitter:description" content="">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Log4D",
  "url": "https://blog.alswl.com/",
  "description": "",
  "logo": "https://blog.alswl.com/favicon.ico",
  "sameAs": [
      "https://twitter.com/alswl", "https://github.com/alswl", "https://www.zhihu.com/people/alswl", "https://www.douban.com/people/alswl/", "/rss.xml", "/atom.xml"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.alswl.com/" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://en.blog.alswl.com/" title="English Blog">
                    <span>English Blog</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/archives/" title="存档">
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/about/" title="关于我">
                    <span>关于我</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Arch，再见
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201304/archlinux-logo-dark-1200dpi_.png" alt="Thumbnail" /></div>
    
    
    <p> Arch 是我真正使用的第一款 Linux 发行版，大约使用了三年， 现在的这个 VPS 跑的系统也是 Arch。 然而随着时间变化，我从最早的天天更新狂，到一周、一个月、三个月和不主动更新。 彻底从从不折腾会死星人变成了一个尽量避免变更的老用户。
Arch 很适合作为第二个（第一个是新手使用的 Ubuntu），它的哲学 KISS 非常优雅， Keep It Simple And Stupid。基于这原则，它将 Linux 内部的使用、运维细节都展现出来。 毫不夸张的说，被 Arch 折腾几年，就能胜任 Linux SA 的角色了（笑）。
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-04-13 22:04:00 +0800 +0800'>2013-04-13</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Arch，再见" href="https://blog.alswl.com/2013/04/buy-arch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">读《人件》
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201304/s1299961.jpg" alt="Thumbnail" /></div>
    
    
    <p>事情起源于动态语言和静态语言之争，最后争论焦点转移到：「相信人本身的能力重要， 还是通过语言/工具来约束人重要」。 我认为项目开发中最重要的是个人能力和团队协作能力，工具只是加分项。 如果代码质量差、监控难、性能难以优化，解决根本问题的关键还是在人身上。 并不是静态编译和工具检查就能搞定了。
我愤愤的在 QQ 对话框中写道：
我工作第一年痛苦于开发流程，阅读了《人月神话》，就开始坚信软件工程的哲学 后来痛苦与代码质量，阅读了《重构》，开始坚信代码质量决定产品质量 现在痛苦于人和语言的冲突，动态和静态的冲突，我想读《人件》了
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-04-10 23:35:00 +0800 +0800'>2013-04-10</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 读《人件》" href="https://blog.alswl.com/2013/04/peopleware/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">读《打造 Facebook》
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="http://img3.doubanio.com/lpic/s24581301.jpg" alt="Thumbnail" /></div>
    
    
    <p>感谢好基友 @daodao 送了我这本《打造 Facebook》， 年前一直忙，最近腾出两个晚上，把这本很火的书看完了。
第一次听见王淮这个名字，其实是在知乎上面， 当时有一个问题 Facebook 早期员工王淮在职期间有什么成就？。 之后陆陆续续看到他的几个回答，感觉他非常善于自我营销。再之后就读到他这本书。
书中最喜欢的章节是关于 Facebook 工程师文化和产品开发流程的描述。
============================== 我是分割线 ==============================
Facebook 招人标准
对公司的忠诚，是文化认同的附属品 技术面试 2.5 / 系统设计 1 / 文化面试 0.5 5 个程度的面试打分 高标准人才，喜欢挑战和完成艰巨任务 慢招人，快炒鱿鱼 新兵训练营
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-02-25 00:51:00 +0800 +0800'>2013-02-25</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 读《打造 Facebook》" href="https://blog.alswl.com/2013/02/facebook/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">在 Python 中使用 epoll[译文]
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>原文地址： http://scotdoyle.com/python-epoll-howto.html ， 我这里取精简内容翻译过来。
============ 正文开始 ============
介绍 Python 从 2.6 开始支持 epoll。现在我们用 Python3 来写基于这些 API 的 epoll 范例。
阻塞的 Socket 通信范例 import socket EOL1 = b&#39;\n\n&#39; EOL2 = b&#39;\n\r\n&#39; response = b&#39;HTTP/1.0 200 OK\r\ndate: &#34;2013-01-12T00:01:00&#43;08:00&#34; response &#43;= b&#39;Content-Type: text/plain\r\nContent-Length: 13\r\n\r\n&#39; response &#43;= b&#39;Hello, world!&#39; serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM) serversocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) serversocket.bind((&#39;0.0.0.0&#39;, 8080)) serversocket.listen(1) try: while True: connectiontoclient, address = serversocket.accept() request = b&#39;&#39; while EOL1 not in request and EOL2 not in request: request &#43;= connectiontoclient.recv(1024) print(&#39;-&#39;*40 &#43; &#39;\n&#39; &#43; request.decode()[:-2]) connectiontoclient.send(response) connectiontoclient.close() finally: serversocket.close() 这个范例中的代码在 accept() 、 recv() 和 send() 时候会发生阻塞， 导致其他连接无法完成。
通常情况下，在我们使用阻塞模型时候，会专门建立一个主线程来进行监听， 将建立成功的连接交给其他线程操作，然后继续在主线程上面监听。 这样一来，就不会受单次请求阻塞的限制。
C10K 问题描述了其他处理高并发方法，比如异步 Socket， 通过监听事件来触发预设的响应。异步 Socket 可以是单线程，也可以是多线程。
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-01-12 00:01:00 +0800 +0800'>2013-01-12</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 在 Python 中使用 epoll[译文]" href="https://blog.alswl.com/2013/01/python-epoll/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">My 2012
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>本想着末日来了也是好事，大家都挂了，一了百了，啥事情都不用干了。 不过末日既然没来，工作和生活就得继续下去，年末了还是需要缅怀一下 2012， 然后展望一下 2013。
2012 关键词：妹子 和姑娘 A 不得不说的故事，追了一段时间之后发现太熟了，不好下手，另外三观有点不一致， 现在已经有男朋友了。更八卦的段子见 有哪些智能手机用户的行为让你当时就震惊了？ 另有青春年少萝莉一枚，让我确认自己不是基佬，已死心。
最近几年我蛮少对异性有好感产生，或许是周围姑娘太少的缘故，或许是爱无能了。
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-01-01 22:59:00 +0800 +0800'>2013-01-01</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to My 2012" href="https://blog.alswl.com/2013/01/my_2012/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">如何让 Instagram 在一百多万用户爆炸后稳定运行
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>原文链接：Keeping Instagram up with over a million new users in twelve hours
这周二我们发布了 Instagram for Android，反响空前强烈。 最近这几周我们一直（在基础设施方面）做负载计划，为所有可能发生的事故做准备。 尽管如此，在发布那天，最大的挑战仍然是如何快速定位问题，找到瓶颈并尽快修复他们。 在这里我们将分享一些帮助我们解决问题的工具和技术。
##statsd##
statsd 在 Instagram 很受欢迎。这是 Etsy 写的一个网络监控器， 能够统计并图形化数据。它有两种核心的统计方式：计数器和计时器。 我们用计数器来跟踪许多信息，从每秒钟注册数到喜欢数量统计。 同时我们使用计时器来跟踪 feeds 变化，用户停留在 feeds 多久，和其他的主要操作。
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-11-19 00:06:00 +0800 +0800'>2012-11-19</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 如何让 Instagram 在一百多万用户爆炸后稳定运行" href="https://blog.alswl.com/2012/11/keeping-instagram-up-with-over-a-million-new-users-in-twelve-hours/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">KuKu-一个 Weekend Project
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201211/kuku.png" alt="Thumbnail" /></div>
    
    
    <p>一个小小的 Weekend Project，基于 web.py。 代码在 alswl / kuku ，很简陋，属于差不多能用阶段。
基于以下原因开发：
想把服务器去 PHP 化，以前的 upload.log4d.com 是基于 PHP 的， 详情请见 使用独立图床子域名。 刚买的 Linode VPS，终于从 128MB 内存解放出来了，赶紧放个 Python 程序跑跑。 想些 Python 了，手痒，想看看写这么简单的功能需要多长时间， 弥补上次没能参加黑客马拉松的遗憾。 KuKu 的发音是我家乡话的「看看」。
KuKu 中比较有趣的地方是，用了 Foundation 这个流式 Web 前端框架， 用了 Foundation Icons Fonts，将 js 库全部托管在 Google Hosted Libaries 和 cdnjs 上。
这篇文章我看着都觉得水。
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-11-18 22:31:00 +0800 +0800'>2012-11-18</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to KuKu-一个 Weekend Project" href="https://blog.alswl.com/2012/11/kuku/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">PyCon 2012 见闻
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201210/PyConChina2012.png" alt="Thumbnail" /></div>
    
    
    <p>PyCon 是 Python 领域最著名的技术会议，从 2011 年开始，中国区开始举办自己的 PyCon 大会。这次 PyCon 2012 分成两个场地同时进行，北京和上海， 并且在网上提供同步转播，各地也有组织线下收看的。
去年时候我很遗憾的不能跑到上海来参加，现在我人就在上海， 怎能错过 Pythoner 的饕餮大餐呢？早就眼巴巴的买票准备参加了。
上海这边的主题如下：
《Python 产品构建与发布指南》- 沈崴 《实战游戏客户端》 - 林伟 《让程序运行更快》- 李小红 《演进或革命 - 选型和架构的实践经验谈》 - 潘俊勇 《网游开发中的 Python 组件》- 赖勇浩 《自动化即时战斗游戏解决方案》 - 王健 《人人可以化半小时开发一个全功能OpenERP模块》 - Tony Gu 《元编程在redis orm中的应用》 - 许智翔 《OpenERP即将推出的第7版的功能和新的编程框架介绍》- Eric Caudal 《Python如何帮助「逆转三国」获得成功》- 车蕙怡 《Pyramid Web Framework for Advanced Web Applications》- 黄峥峼 （Mark Huang） 《用Tornado开发RESTful API应用》- 飞龙非龙 《NOSQL和MySQL在django上的混合使用》- 黄昶 《网页游戏的跨界开发》 - 董诣 《阿里云之移动开发者上云》 - 刘飞 《使用 Python 和 Django 建设维护学校门户》- 于夏桥 《python在linux运维中的应用》 - 吴晗 《用Python替换C代码——A Python Successful Story》- Adieu（刁立知） 《 Python in Gentoo Linux》- Patrick Lauer 《基于nova的自动扩展和负载均衡》- 刘明华 《用myTestCase模块来做python的UT》- 陈钢 我最喜欢的是 许智翔（shell） / 沈崴 / 林伟 / 黄峥峼 / 李小红 / 赖勇浩 的 Topic。其中尤其是沈崴关于输入处理的准则，解开我一个很久的疑惑。 沈崴这个 Python 编程艺术 是赖勇浩提到的幻灯片，强烈推荐观看。
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-10-21 21:15:00 +0800 +0800'>2012-10-21</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to PyCon 2012 见闻" href="https://blog.alswl.com/2012/10/pycon-2012/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Working with Python subprocess[译文]
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201209/Stdstreams-notitle.svg.png" alt="Thumbnail" /></div>
    
    
    <p>8月底到魔都开始新工作，头一个月当然各种忙，都没时间来更新博客。
这篇文章是在写 Btrace 脚本时候查资料看到的， 看着不错就顺手翻译，没想到差点烂在草稿箱出不来啊出不来。 熬了一个月才磨出来，媳妇都快成婆了有木有。
原文链接：Working with Python subprocess - Shells, Processes, Streams, Pipes, Redirects and More
注意
关于「执行命令时候发生了什么」这个问题，可以在 http://en.wikipedia.org/wiki/Redirection_(computing) 找到更多最新信息。这篇文章遵循 GFDL 协议。
在我的上一篇日志中，我写到如何 build a command line interface with sub-commands in Python。 这次我来尝试如何通过 Python 的 subprocess 模块来和命令行指令进行交互。
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-10-16 00:42:00 +0800 +0800'>2012-10-16</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Working with Python subprocess[译文]" href="https://blog.alswl.com/2012/10/working-with-python-subprocess/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">面试小记
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>最近在上海找工作面试，这两天就要出结果了。早晨5点多就醒过来，睡不着觉， 那就写篇这段时间面试感觉的小记。
选择 我在台风「海葵」登录上海那天离开南京，已经约好了几个面试， 这几个团队都是我慎重筛选的。招聘消息来源于各大社区： Python-CN 邮件列表 / V2EX / Ruby-China / 豆瓣小组。 来源于社区的招聘信息会更靠谱，在社区投递的很有可能是直接主管，而不是人事 HR。 仅仅在 51job 上投放招聘，而不参到社区来的公司，很可能氛围不是那么有活力。
我尽量避免被分散注意力，只选择自己认可的公司，几乎是清一色创业团队。 个人的精力是有限的，找到最适合自己的是我的核心原则。使用所有手段：「Google / 社区 / 业内人士咨询 / 微博 / 新闻报道」的方法， 来了解自己想去团队的产品和文化。来对比公司理念和自己理念的异同， 自己是否认可一些团队文化，还有创始人和主管的性格和技术取向是否和自己偏差很大。 有些人会觉得这有偷巧之嫌，但在我看来，这是对双方负责的表现。 贸贸然的选择，会浪费双方的时间和精力。
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-16 05:46:00 +0800 +0800'>2012-08-16</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 面试小记" href="https://blog.alswl.com/2012/08/interview/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://blog.alswl.com/page/7/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://blog.alswl.com/page/9/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://blog.alswl.com/">Log4D</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
