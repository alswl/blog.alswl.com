<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.121.1"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Log4D</title>

<meta name="description" content="">
<meta name="author" content="alswl">
<link rel="canonical" href="https://blog.alswl.com/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.281970ae41d3046d9825431d1dbb82b373e9cea96e151d3f7d350f717d451f62.css" integrity="sha256-KBlwrkHTBG2YJUMdHbuCs3PpzqluFR0/fTUPcX1FH2I=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/atom+xml" href="https://blog.alswl.com/atom.xml">
<link rel="alternate" type="application/rss+xml" href="https://blog.alswl.com/rss.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7S40P40QGJ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-7S40P40QGJ', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Log4D" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.alswl.com/" /><meta property="og:site_name" content="Log4D" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Log4D"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Log4D",
  "url": "https://blog.alswl.com",
  "description": "",
  "thumbnailUrl": "https://blog.alswl.com/favicon.ico",
  "sameAs": [
      "https://twitter.com/alswl", "https://github.com/alswl", "https://www.zhihu.com/people/alswl", "https://www.douban.com/people/alswl/", "/rss.xml", "/atom.xml"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.alswl.com" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://en.blog.alswl.com/" title="English Blog">
                    <span>English Blog</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/archives/" title="存档">
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/about/" title="关于我">
                    <span>关于我</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>在 Python 中使用 epoll[译文]
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>原文地址： http://scotdoyle.com/python-epoll-howto.html ， 我这里取精简内容翻译过来。 ============ 正文开始 ============ 介绍 Python 从 2.6 开始支持 epoll。现在我们用 Python3 来写基于这些 API 的 epoll 范例。 阻塞的 Socket 通信范例 import socket EOL1 = b&#39;\n\n&#39; EOL2 = b&#39;\n\r\n&#39; response = b&#39;HTTP/1.0 200 OK\r\ndate: &#34;2013-01-12T00:01:00&#43;08:00&#34; response &#43;= b&#39;Content-Type: text/plain\r\nContent-Length: 13\r\n\r\n&#39; response &#43;= b&#39;Hello, world!&#39; serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM) serversocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) serversocket.bind((&#39;0.0.0.0&#39;, 8080)) serversocket.listen(1) try: while True: connectiontoclient, address = serversocket.accept() request = b&#39;&#39; while EOL1 not in request and EOL2 not in request: request &#43;= connectiontoclient.recv(1024) print(&#39;-&#39;*40 &#43; &#39;\n&#39; &#43; request.decode()[:-2]) connectiontoclient.send(response) connectiontoclient.close() finally: serversocket.close() 这个范例中的代码在 accept() 、 recv() 和 send() 时候会发生阻塞， 导致其他连接无法完成。 通常情况下，在我们使用阻塞模型时候，会专门建立一个主线程来进行监听， 将...</p>
  </div>
  <footer class="entry-footer"><span title='2013-01-12 00:01:00 +0800 +0800'>2013-01-12</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 在 Python 中使用 epoll[译文]" href="https://blog.alswl.com/2013/01/python-epoll/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>My 2012
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>本想着末日来了也是好事，大家都挂了，一了百了，啥事情都不用干了。 不过末日既然没来，工作和生活就得继续下去，年末了还是需要缅怀一下 2012， 然后展望一下 2013。 2012 关键词：妹子 和姑娘 A 不得不说的故事，追了一段时间之后发现太熟了，不好下手，另外三观有点不一致， 现在已经有男朋友了。更八卦的段子见 有哪些智能手机用户的行为让你当时就震惊了？ 另有青春年少萝莉一枚，让我确认自己不是基佬，已死心。 最近几年我蛮少对...</p>
  </div>
  <footer class="entry-footer"><span title='2013-01-01 22:59:00 +0800 +0800'>2013-01-01</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to My 2012" href="https://blog.alswl.com/2013/01/my_2012/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>如何让 Instagram 在一百多万用户爆炸后稳定运行
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>原文链接：Keeping Instagram up with over a million new users in twelve hours 这周二我们发布了 Instagram for Android，反响空前强烈。 最近这几周我们一直（在基础设施方面）做负载计划，为所有可能发生的事故做准备。 尽管如此，在发布那天，最大的挑战仍然是如何快速定位问题，找到瓶颈并尽快修复他们。 在这里我们将分享一些帮助我们解决问题的工具和技术。 ##statsd## statsd 在 Instagram 很受欢迎。这是 Etsy 写的一个网络监控器， 能够统计并图形化数据。它有两种核心的统计方式：计数器和...</p>
  </div>
  <footer class="entry-footer"><span title='2012-11-19 00:06:00 +0800 +0800'>2012-11-19</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 如何让 Instagram 在一百多万用户爆炸后稳定运行" href="https://blog.alswl.com/2012/11/keeping-instagram-up-with-over-a-million-new-users-in-twelve-hours/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>KuKu-一个 Weekend Project
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201211/kuku.png" alt="Thumbnail" /></div>
    
    
    <p>一个小小的 Weekend Project，基于 web.py。 代码在 alswl / kuku ，很简陋，属于差不多能用阶段。 基于以下原因开发： 想把服务器去 PHP 化，以前的 upload.log4d.com 是基于 PHP 的， 详情请见 使用独立图床子域名。 刚买的 Linode VPS，终于从 128MB 内存解放出来了，赶紧放个 Python 程序跑跑。 想些 Python 了，手痒，想看看写这么简单的功能需要多长时间， 弥补上次没能参加黑客马拉松的遗憾。 KuKu 的发音是我家乡话的「看看」。 KuKu 中比较有趣的地方是，用了 Foundation 这个流式 Web 前端框架， 用了...</p>
  </div>
  <footer class="entry-footer"><span title='2012-11-18 22:31:00 +0800 +0800'>2012-11-18</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to KuKu-一个 Weekend Project" href="https://blog.alswl.com/2012/11/kuku/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>PyCon 2012 见闻
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201210/PyConChina2012.png" alt="Thumbnail" /></div>
    
    
    <p>PyCon 是 Python 领域最著名的技术会议，从 2011 年开始，中国区开始举办自己的 PyCon 大会。这次 PyCon 2012 分成两个场地同时进行，北京和上海， 并且在网上提供同步转播，各地也有组织线下收看的。 去年时候我很遗憾的不能跑到上海来参加，现在我人就在上海， 怎能错过 Pythoner 的饕餮大餐呢？早就眼巴巴的买票准备参加了。 上海这边的主题如下： 《Python 产品构建与发布指南》- 沈崴 《实战游戏客户端》 - 林伟 《让程序运行更快》- 李小红 《演进或革命 - 选型和架构...</p>
  </div>
  <footer class="entry-footer"><span title='2012-10-21 21:15:00 +0800 +0800'>2012-10-21</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to PyCon 2012 见闻" href="https://blog.alswl.com/2012/10/pycon-2012/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Working with Python subprocess[译文]
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201209/Stdstreams-notitle.svg.png" alt="Thumbnail" /></div>
    
    
    <p>8月底到魔都开始新工作，头一个月当然各种忙，都没时间来更新博客。 这篇文章是在写 Btrace 脚本时候查资料看到的， 看着不错就顺手翻译，没想到差点烂在草稿箱出不来啊出不来。 熬了一个月才磨出来，媳妇都快成婆了有木有。 原文链接：Working with Python subprocess - Shells, Processes, Streams, Pipes, Redirects and More 注意 关于「执行命令时候发生了什么」这个问题，可以在 http://en.wikipedia.org/wiki/Redirection_(computing) 找到更多最新信息。这篇文章遵循 GFDL 协议。 在我的上一篇日志中，我写到如何 build a command line interface with sub-commands in Python。 这次...</p>
  </div>
  <footer class="entry-footer"><span title='2012-10-16 00:42:00 +0800 +0800'>2012-10-16</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Working with Python subprocess[译文]" href="https://blog.alswl.com/2012/10/working-with-python-subprocess/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>面试小记
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>最近在上海找工作面试，这两天就要出结果了。早晨5点多就醒过来，睡不着觉， 那就写篇这段时间面试感觉的小记。 选择 我在台风「海葵」登录上海那天离开南京，已经约好了几个面试， 这几个团队都是我慎重筛选的。招聘消息来源于各大社区： Python-CN 邮件列表 / V2EX / Ruby-China / 豆瓣小组。 来源于社区的招聘信息会更靠谱，在社区投递的很有可能是直接主管，而不是人事 HR。 仅仅在 51job 上投放招聘，而不参到社区来的公司，很可能氛围不是那么有活力。 我尽量...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-16 05:46:00 +0800 +0800'>2012-08-16</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 面试小记" href="https://blog.alswl.com/2012/08/interview/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>我为什么来上海
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>今天是我到上海的第二天，窗外的台风依然在肆虐， 我用半天的时间来研究这几天要面试公司的产品。放下腿上的笔记本， 抽了根烟，我开始整理一下思绪，准备回答这么一个问题：「我为什么要到上海来？」 南京有相对悠闲的生活节奏，开车回家 1 小时不到， 父母在毕业那年帮我购置并装修好了新房，工作也比较稳定。 那我为什么还要抛弃这些去上海？ 回答这个问题，我需要从我的经历讲起。 前天在和 @lightory 在雕刻时光聊天，我提到自己的成长经历： 我...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-09 21:10:00 +0800 +0800'>2012-08-09</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 我为什么来上海" href="https://blog.alswl.com/2012/08/why-shanghai/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>《少有人走的路》读后感
    </h2>
  </header>
  <div class="entry-content">
    
    
    <div class="thumbnail"><img src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201208/s2144391.jpg" alt="Thumbnail" /></div>
    
    
    <p>关注这本书是在编程随想那里看到的一篇书评， 其中引用了书中一句经典的话： 人可以拒绝任何东西，但绝对不可以拒绝成熟。拒绝成熟，实际上就是在规避问题、 逃避痛苦。规避问题和逃避痛苦的趋向，是人类心理疾病的根源，不及时处理， 你就会为此付出沉重的代价，承受更大的痛苦。 所有逃避者，都在阻碍自己心智的成熟； 一切心智成熟者，他们的人生之旅都是从直面问题开始。 我最近半年的时间中，经常和一位闺密朋友讨论成熟、感情、人生...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-04 08:58:00 +0800 +0800'>2012-08-04</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 《少有人走的路》读后感" href="https://blog.alswl.com/2012/08/the-road-less-traveled/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>MoinMoin Wiki 转换 Text 脚本
    </h2>
  </header>
  <div class="entry-content">
    
    
    
    <p>我使用 MoinMoin 作为我的 KMS，具体使用方式可以参考 [使用MoinMoin作为个人KMS][moin-kms]。另外，我将 MoinMoin 的 data 目录链接到 Dropbox 同步目录下面，从而可以备份并查看我的知识库。 我想同步阅读 KMS 数据 想在移动设备阅读 KMS 数据时，我遇到一个麻烦，MoinMoin 使用文件来保存 wiki 数据， 比如「28个Unix.Linux的命令行神器」这篇 wiki 目录在 data/28(e4b8aa)Unix(2e)Linux(e79a84e591bde4bba4e8a18ce7a59ee599a8) 中， 结构如下： |---revisions | |---00000002 | |---00000001 |---edit-log |---current |---attachments | |---http___coolshell.cn_wp-content_uploads_2012_07_xargs_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_sl.jpg | |---http___coolshell.cn_wp-content_uploads_2012_07_mtr_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_lftp_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_htop_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_calcurse_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_multitail_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_ack_screenshot.png | |---http___coolshell.cn_wp-content_uploads_2012_07_tpp_screenshot.png...</p>
  </div>
  <footer class="entry-footer"><span title='2012-07-27 09:02:00 +0800 +0800'>2012-07-27</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to MoinMoin Wiki 转换 Text 脚本" href="https://blog.alswl.com/2012/07/moin2txt/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://blog.alswl.com/page/7/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://blog.alswl.com/page/9/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://blog.alswl.com">Log4D</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
