<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.104.3" /><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Log4D</title>

<meta name="description" content="">
<meta name="author" content="alswl">
<link rel="canonical" href="https://blog.alswl.com/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fcb8ff387cda8551f3867e8c0e2af5aae9b5df9ce2e143e58af5cd709b4e94a3.css" integrity="sha256-/Lj/OHzahVHzhn6MDir1qum135zi4UPlivXNcJtOlKM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://blog.alswl.com/atom.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-8822123-3', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Log4D" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.alswl.com/" /><meta property="og:site_name" content="Log4D" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Log4D"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Log4D",
  "url": "https://blog.alswl.com",
  "description": "",
  "thumbnailUrl": "https://blog.alswl.com/favicon.ico",
  "sameAs": [
      "https://twitter.com/alswl", "https://github.com/alswl", "https://www.zhihu.com/people/alswl", "https://www.douban.com/people/alswl/", "/atom.xml"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.alswl.com" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://en.blog.alswl.com/" title="English Blog">
                    <span>English Blog</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/archives/" title="存档">
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/about/" title="关于我">
                    <span>关于我</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一次「分答」记录
    </h2>
  </header>
  <div class="entry-content">
    <p>尝试在团队内部发起一次类似「分答」的沟通方式，一对一面聊。 回答其他工程师的问题，这种沟通的方式暨在提供一个特定的场合，帮助加强双方了解， 解决团队中其他工程师的一些实际的问题。
在征得对方同意之后，我将他的问题和我的回答 PO 出来。
喜欢什么游戏，玩游戏的问题 喜欢和人玩游戏，不喜欢和不认识网友玩游戏 小学从红月开始玩，传奇、CS、魔兽、真三、DOTA，大学时候和舍友玩游戏，毕业后不玩 minecraft 尝试着玩过，没有玩下去，找不到人 日活的桌面游戏，三国杀等蛮喜欢 不喜欢浪费时间，怕没控制 从玩游戏里面学习什么么？不，就是纯粹享受游戏，不会想这么多 喜欢什么语言 看场合，小东西，小场景用 Python，生产环境用 Java，生产环境又有时间，考虑 Scala 只允许选一门语言，就用 Python 最吸引的特点，熟悉程度高，生产效率高，第三方库丰富，粘合性强 为 Python 做一些功能扩展？不同时期答案会不一样，目前来说，希望有一个开发效率更高的 framework；有时间的话，会考虑如何绕过底层 GIL 问题 有什么事情投入精力，铩羽而归 工具向重的人，推广 git 花了两年，推广 Restful 不利 做业务开发 leader，和 tsu、小管一起做，项目管理、团队管理没做好，没做好，有挫败感。 职业迷茫期 我作为一个学渣，并且长期以来没有人给予职业生涯规划，一直对自己未来发展有困惑 如何在无领导的情况之下，探索未来道路，规划自己工作内容？跟优秀的人聊，跟外部的人聊，看博客，看书 迷茫是客观存在的，并且可能持续存在很久，正视它 现实中一定会遇到各种挑战和困难的，用挑战和困难填充自己，丰富自己的生活 迷茫是未知，有恐惧，有兴奋。对当前的我来说，恐惧可能更多，但是要面对 职业生涯里面，前期的同质度更高，资深工程师可以会给初级工程师规划清晰一些，但是越往后期，越难规划，需要自己探索 推荐书 https://book.douban.com/people/alswl/collect?sort=rating&amp;start=0&amp;filter=all&amp;mode=list&amp;tags_sort=count 学习来源 博客，infoq 等专业信息来源 书籍 周围的人 尽可能从每天时间挤出时间阅读 生活和工作平衡点 不同的人，同一个人的不同时期所需要的平衡不一样 对自己人生期望不一样的人，平衡点不一样 对我来说，目前阶段不存在明显边界，尽可能投入工作 如何保持激情 人总是有低谷期的，不可能一直保持亢奋，除非是甲亢 短期情绪会有起伏，长期来看，保持梦想和对自己高要求，可以帮助保持激情 我有低谷期，低谷期适合反思 如何擦屁股 现实是残酷的，总有屁股要擦，自己也有脏屁股，今天要给昨天的自己擦屁股 现实中存在脏屁股，尽可能了解它，看代码、文档，设计方案，了解的人，让自己变舒服 责任心的体现，做好当下的事情；解决这样的问题，解决当前的问题；避免留下脏屁股，设计好，规划好 责任心的话很虚。一个人做擦屁股、低产值的事情，从长远来看，是错的；短期需要撑下来；并且帮助团队避免这样的事情发生 最有成就感的事情 顶着家庭压力，到上海来 在堆糖改造环境，提升自己心智水平，不害怕问题，自信，自省 </p>
  </div>
  <footer class="entry-footer"><span title='2016-06-15 09:59:16 +0800 +0800'>2016-06-15</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 一次「分答」记录" href="https://blog.alswl.com/2016/06/q-and-a/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>海贼王和创业团队
    </h2>
  </header>
  <div class="entry-content">
    <p>一个同事在知乎提了一个问题 如果把草帽海贼团比作一个创业团队,这个Team的组织架构是怎样的?有哪些优势,又有哪些不足?
这个话题很有趣，作为追了多年的 fans ，又是身处互联网创业团队的我要来强答一记。
海贼王的世界很大，富有个性的角色和团队也很多，恰好可以和显示世界中的互联网创业团队进行对比。 柳传志讲的好，做大事，要「建班子，定战略，带队伍」，我们就着金句来看看草帽这个团队怎么样。
产品和战略 我先讲产品和战略。
由于海贼王世界的设定，以及作为一个全年段漫画动画的原因。 海贼王世界的整体战略是较为简单，海贼团的目标都较为单一，即「找到 哥尔 D 罗杰 留下的宝藏」。 海贼团们实现目标的路径也较为单一，打斗增强战斗力，不断寻找线索，去伟大航道寻找宝藏。
所以故事的开展反而是围绕另外一条隐秘的线索「历史的真相」，尾田大神埋坑很深。 「历史的真相」并不是作为大部分人努力和前进的目标，所以「海贼王」世界的故事虽然曲折跌宕， 但是产品模型极为单一，不具备太多可以讨论的点。
团队 接着讲团队，一个团队第一重要的是创始人，这必须要是一位领袖人物。
评价领袖优秀程度，从这么几个角度评价：
意志力：打不死的小强，不达目标誓不罢休 专业技能：能打、脑子灵光、心灵手巧、一技之长 规划能力：除了体力值和专业智慧，也要讲讲战略和谋略 管理能力：沟通协调、团队管理促进能力，能够带领团队实现目标，促进他人成长 以这个标准来看几个具有领袖气质的角色：
路飞 意志力：5 专业技能：5 规划能力：1（率性而为的大爷） 管理能力：1（团队自由生长） 白胡子 意志力：5 专业技能：5 规划能力：4（顶上之战的过程证明） 管理能力：5（队长们的成长和忠诚度证明） 多弗朗明哥 意志力：5 专业技能：5 规划能力：5 管理能力：5 艾斯 意志力：5 专业技能：4（以牺牲的时间点战斗力打分） 规划能力：2（追踪黑胡子，一个人冒进，被黑胡子摆了一道） 管理能力：2（也就混到一个队长，能够鼓励其他人，但是没发现黑胡子成长的问题） 唐僧（乱入一个对比） 意志力：5&#43; 专业技能：4（熟读经书算不算专业能力？） 规划能力：0 管理能力：0 从上面的判断可以看出，对于一个领袖而言，路飞仅仅是不错，但是谈不上多么优秀， 倒是白胡子，典范啊典范。
根据上面提到的能力模型，草帽海贼团的其他角色大家也可以心里评估出来了： 大部分人都是意志力、专业技能强悍（即便是乌索普，射击能力也是可以评上 3），但是同时也在规划能力和管理能力上面较弱。
唉，这么弱，很难继续支撑草帽海贼团继续走下去啊，怎么办呢？
带队伍 草帽海贼团，一个极为漂亮的「自组织团队」。
什么是「自组织团队」？来自 InfoQ 的一篇文章 什么是自组织团队？ 里面讲到团队的特性：
分散式的控制，也就是说与集中式的控制截然相反， 不断适应改变的环境， 在局部相互作用下自然浮现出来的结构, 反馈，包括肯定的和否定的 弹性，归结于系统修复和调整的能力。 用简单的关键词概括，其实是这么几个关键词：...</p>
  </div>
  <footer class="entry-footer"><span title='2016-04-27 00:36:10 +0800 +0800'>2016-04-27</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 海贼王和创业团队" href="https://blog.alswl.com/2016/04/onepiece-startup/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Windows management for hacker
    </h2>
  </header>
  <div class="entry-content">
    <p>团队里的同学有时看见我键指如飞，可以用快捷键将 Mac 的窗口玩转于手心。他们表示酷炫非常， 心生羡慕的同时，希望掌握这门技艺，我就把使用的 Phoenix 介绍给大家。结果过了一段时间， 发现普及率并不高，本着好为人师的精神，今天我就来八一八这款优秀的桌面管理工具。
在介绍我使用的工具之前，我要先介绍一下我选择的原因和历史。
ps：配图是我长草多年的 Ergodox Infinity。（@夫人，看到这里的时候，请留步思考 5s）。
Alt&#43;Tab = 苦难的历史 当我还年轻的时候，曾经对 Alt&#43;Tab 这个快捷键愤慨无比，觉得这种设计虽然简单但是很蠢。
命中率低。要在茫茫图标中查找自己需要的窗口，如果开了 20 个应用，切换到一个非常用窗口至多可能需要 20-1 次按键。 不要跟我说有 Alt&#43;Shift&#43;Tab 的反向循环操作，估计大部分用户都不知道。而且 正向/反向 切换伤脑子。 交互方式耗时。由于 Alt&#43;Tab 的操作需要用户进行反馈才能进行，是 眼-手-眼-手 的操作反馈方式， 这种交互模式费时费脑子。跟这种需要实时反馈对立的交互模式应当是类似「一键呼出」的操作。 在大显示器、多显示器的环境下面，Alt-Tab 模式没有做任何优化。 频繁切出窗口进行切换，容易让人分神，比如切换时候看到某个播放器的标题，在放一首喜欢的歌，很可能吸引过去。 有人会问，难道不优化都是缺陷么？ 我的答案是肯定的。Alt&#43;Tab 是几乎除鼠标之外的唯一一种窗口操作方式。如果它不能跟上时代的步伐， 对大显示器、多显示器做优化，那就是不作为，不努力，不上进。跟不上变化是要被淘汰的！
平铺式窗口管理器 在被 Windows Alt-Tab 虐了多年之后，我长大了，开始接触 Linux，但是这种痛苦仍然时刻包围着我。 当我分期购买一个外置显示器之后，这种痛苦到达到了顶端。 恰好彼时我是 ArchLinux 的信徒，很快就发现了一片桃源： 自己安装 Window manager。
我重新认识了桌面系统世界，除了介绍常规的 Gnome / KDE / xfce 之外，还有一类窗口管理系统，他们叫做「平铺式窗口管理器」。 （严格来说，Gnome / KDE / xfce 属于 Desktop environment，层级比「窗口管理系统」要高，我这里不做严格区分）。
什么是平铺式窗口管理器？来一个直观的认识：...</p>
  </div>
  <footer class="entry-footer"><span title='2016-04-24 16:36:16 +0800 +0800'>2016-04-24</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Windows management for hacker" href="https://blog.alswl.com/2016/04/windows-management-for-hacker/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>技术之外
    </h2>
  </header>
  <div class="entry-content">
    <p>这是一天一本书的第二次执行，这次选了一本比较薄的书，上周的书看了一天，脑仁疼。
在我组织团队新兵训练营（入职之后一段时间内容集中的培训）时候， 经常和新同事聊到一个词：软实力。 我将其描述为专业技能之外的能力。每个人都这种能力的解读可能会不一样， 我将其拆解为：「对工作的热情；观察力和反思能力；做计划和决策是否周全」。
这种拆解是不全面的，「多年」以后，我意识到，硬实力考衡的是专业的能力， 而软实力则是考衡人的因素。这种晚来的意识让我在一段时间里面， 将自己的工作陷入困境，并且得不到解药。
Google 的两位工程师 Brian W. Fitzpatrick 和 Ben Collins-Sussman 写了一本书极客与团队，通过他们的视角， 告诉大家想要在团队中获得成功的另一面。不要被书名误解，我觉得「开发者和团队」是更好的名字， 虽然没那么酷。
要在团队中获得成功，你必须以谦虚、尊重和信任为核心原则。
要做的第一件事情，应该就是沟通了。让自己成为一个玻璃玲珑人， 其他人可以看到你的方向、目标和里程碑，同时可以看到你的进展和问题点。 这样不但可以获得工作中的肯定，当个人的目标设定和团队出现偏差， 又或是开发过程中在一个点停顿了太久，可以有其他人参与进来或直接伸出援手。
这种透明度对上对下都应该如此。团队的领导， 应当在开发周期内的早期就明确告知团队愿景、目标和设定的里程碑。 产生共鸣的愿景可以让人对目标有渴望，对自己工作有认同。 各位还记得中国中小学开学第一周里，大多都有一个开学典礼讲话。讲的好的领导， 会阐述自己的教学理念，去年取得的成绩，今年的教学着重点。 讲的差的领导就是泛泛而谈，每年都是一套话术，完全看不到长进。
缺失沟通，还会将个人陷于单打独斗的境地，一个篮球队需要 5 个人大， 一个人牛逼没屁用。
提高工程质量的一个有效手段就是 CI（持续集成），将开发过程中一点点的小进展都以一种机械的方式呈现出来， 并进行测试。另一个有效手段是 Code Review，不但推荐要 CR，更是要尽早、快速的 CR。 避免屎积压多了拉，太臭。
我突然想到一条实践：即便是做一个人的项目，在精简程度上也保持最小的一个阈值， 想象明天就要长假，工作要交给别人维护，如何在交付物里面有足够的信息让其他人知晓细节。 而不是丢给后继维护者一句冰冷的话：「看代码」。
沟通必须是有效的，我想任何人都不想听一个嘴碎的人在那边逼逼一下午。 有很多结构化、一部的沟通可以显著提高沟通效率： 项目看板、设计文档、Code Review、代码注释、数据字典等。
第二个重要的观点是，接受失败，承认自己不是无能的。你可能很聪明，但所做的事情不一定完全都是正确的， 连上帝都会犯错，何况是普通人。犯错不可怕，但是犯错还认识不到可怕。犯错并且认识到了， 但是拒绝承认错误的人，不是可怕，而是应该要被淘汰，这类人会极其难以合作。 如何你周围都是这样的人，或者你上司是这样的人，也许你可以考虑换一个地方，在拉钩搜索「堆糖」试试吧。
关于接受失败的另外一个隐含后续发展就是「成长」。意识到这个世界是动态发展的， 「要以发展的眼光看待事物」是一个非常非常有用的认知。 能自己意识到失败，并且会主动复盘，重新认知自己的人，往往会成长的极为迅速。 关于成长的话题可以讨论很深，以后可以单独拎出来讨论。
书中提到一个失败后回顾的清单：
简要 时间的时间线，从发现到调查，再到最终见过 事件发生的主因 影响和损失评估 立即修正问题的步骤 防止事件再次发生的步骤 得到的教训 我就哈哈哈了，这不就是我大堆糖的故障报告模板么？
第三点，如何成长？简单来说，去冒险，去承担自己能力之外的任务， 去挑战没有经历过的任务。有一条彼得定律：「在组织或企业的等级制度中， 人会因其某种特质或特殊技能，令他在被擢升到不能胜任的职位，相反变成组织的障碍物（冗员）及负资产。」。 前半段含义是，大部分情况下面，并不是具有了相应能力才去承担，而是试着去承担任务。 无论成功与否，对当前去挑战的人来说，都能够得到历练，从而能力得到提升。...</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-28 18:16:01 +0800 +0800'>2016-02-28</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 技术之外" href="https://blog.alswl.com/2016/02/team-geek/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一例 Timeout 故障
    </h2>
  </header>
  <div class="entry-content">
    <p>早晨刚到公司， HAProxy 报警，Trtornis（第三方云存储网关，用来统一管理阿里云和七牛云的对象存储） 全飘红。
检查日志，并没有 ERROR 信息，但是大量 WARN 报错。
WARN [2015-12-09 11:01:02,730] org.eclipse.jetty.util.thread.QueuedThreadPool: dw{STARTED,8&lt;=50&lt;=50,i=0,q=1024} rejected org.eclipse.jetty.io.AbstractConne ction$2@62c021c6 WARN [2015-12-09 11:01:02,731] org.eclipse.jetty.io.SelectorManager: Could not process key for channel java.nio.channels.SocketChannel[connected local=/10. 1.1.78:8350 remote=/10.1.1.74:63290] ! java.util.concurrent.RejectedExecutionException: org.eclipse.jetty.io.AbstractConnection$2@62c021c6 ! at org.eclipse.jetty.util.thread.QueuedThreadPool.execute(QueuedThreadPool.java:362) [tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.AbstractConnection$FillingState.onEnter(AbstractConnection.java:379) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.AbstractConnection.next(AbstractConnection.java:273) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:563) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:82) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectChannelEndPoint.onSelected(SelectChannelEndPoint.java:109) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectorManager$ManagedSelector.processKey(SelectorManager.java:636) [tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectorManager$ManagedSelector.select(SelectorManager.java:607) [tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectorManager$ManagedSelector.run(SelectorManager.java:545) [tritonis-shaded....</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-02 23:34:44 +0800 +0800'>2016-02-02</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 一例 Timeout 故障" href="https://blog.alswl.com/2016/02/a-timeout-fault/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一次艰难的 Wiki 升级
    </h2>
  </header>
  <div class="entry-content">
    <p>公司使用 Confluence 管理自己的知识库， 现在使用的版本还是 3.0.1，而最新的 Confluence 版本已经是 5.4&#43;。 新版本加入的一些现代化 Web 系统的新特性很吸引人（拖拽上传，可见即所得编辑）， 在群众的强烈呼声下，我着手开始升级。
官方的升级路线很扯，3.0.1 的升级路线是：
3.0.1 -&gt; 3.5.17 5.0.3 -&gt; 5.4.4 中间两次大版本升级，第一次原因不明，第二次是更新了 markup 渲染引擎， 改为 HTML 格式类型的渲染模式。
由于一些原因，我们系统还跑在 embedded 模式下（其实就是 HyperSQL），这种大版本升级， 需要先从内置库升级到外部数据库，比如 MySQL。
苦逼旅程就开始了。
From embedded to MySQL 更新内置库到外部库的操作流程：
导出当前的数据备份，包括附件，我导出后 1G&#43; 使用当前同版本（3.0.1）安装一个全新的 wiki，注意下载 JDBC-connector 安装之后，配置好 MySQL，开始导入之前准备好的备份 悲剧上演 遇到了错误：
Import failed. Hibernate operation: could not insert: [com.atlassian.confluence.core.BodyContent#12028015]; SQL []; Duplicate entry ‘12028015’ for key ‘PRIMARY’; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry ‘12028015’ for key ‘PRIMARY’...</p>
  </div>
  <footer class="entry-footer"><span title='2016-01-12 22:53:55 +0800 +0800'>2016-01-12</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 一次艰难的 Wiki 升级" href="https://blog.alswl.com/2016/01/confluence-upgrade/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>SS with Haproxy
    </h2>
  </header>
  <div class="entry-content">
    <p>以前用自己的 SS，Linode 美国，后来 Linode 日本，但是始终拼不过上海电信的国际带宽。 经常不稳定，丢一半的包。
于是买了 SS 服务， 9 台服务器，自己挑觉得速度快的服务器。
但一直固定某台服务器也会偶尔出问题，导致邮件出不来，网页打不开。 需要手动切换一下服务器。 于是用 HA 做了一个本地代理，调整了一些参数，让 SS 总是有快速的服务器供选择。
结构：
&#43;-----------------&#43; &#43;----------------&#43; | | | | | Server 1 |&gt;&gt;&gt;&gt;v &gt;&gt;| Mail.app | | | v ^ | | &#43;-----------------&#43; v ^ &#43;----------------&#43; v ^ &#43;-----------------&#43; v |----------------&#43; &#43;------------&#43; ^ &#43;----------------&#43; | | v | | | | ^ | | | Server 2 |&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;| HAProxy |&gt;&gt;&gt;&gt;&gt;&gt;| SS-Client |&gt;&gt;&gt;| Browser | | | ^ | | | | v | | &#43;-----------------&#43; ^ &#43;----------------&#43; &#43;------------&#43; v &#43;----------------&#43; ^ v &#43;-----------------&#43; ^ v &#43;----------------&#43; | | ^ v | | | Server 3 |&gt;&gt;&gt;&gt;^ v&gt;| Evernote....</p>
  </div>
  <footer class="entry-footer"><span title='2015-11-27 20:23:24 +0800 +0800'>2015-11-27</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to SS with Haproxy" href="https://blog.alswl.com/2015/11/ss-with-haproxy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>几步拥有一个安全密码
    </h2>
  </header>
  <div class="entry-content">
    <p>给团队非开发同学写的邮件，对其他人也有些意义，遂贴出来。
这个互联网越来越不安全 https://www.baidu.com/s?wd=%E5%AF%86%E7%A0%81%E6%B3%84%E9%9C%B2%E4%BA%8B%E4%BB%B6。密码数据库泄露，黑客暴库攻击，社会工程学攻击层出不穷。我给大家介绍几个小方法，轻松提高自己各类密码的安全等级。
先给个地址，大家可以测试一下自己常用密码的复杂度：https://howsecureismypassword.net/
认为自己电脑水平还可以的，请直接翻到文章最后。
如何管理密码 给普通用户的建议：
密码设置复杂一些，不要使用生日、日期、姓名等有意义的信息 使用一套合理的密码生成策略 重点来了，密码生成策略：
选择自己喜欢的诗词或者某句话，比如「床前明月光，疑是地上霜」，取其拼音的第一个字母 cqmygysdss 将每个句子第一个单词大写，cqmygysdss -&gt; CqmygYsdss 加上对应网站的信息，比如 163：CqmygYsdss163，qq： CqmygYsdssqq 大功告成，你的密码安全级别提升了。
—————————– 高手的分界线 ———————–
给高水平选手推荐的方案：
核心思想：密码分级，分离普通密码、重要密码（财务相关等）。 普通密码使用大小写英文和数字混合 重要密码和财务相关密码，独立生成密码，保存到 1Password / KeePass 等工具中，每个应用软件独立开来。 推荐 KeePass，免费，参考 http://www.iplaysoft.com/keepass.html 常见弱密码和暴力破解需要时间 123456 / 不需要 duitang / 2s huhela1993 / 10天 huhela_1993 / 48年 CqmygYsdssqq / 3千年 ]W?852HCMHFUYzrz,F / 10000^5 年（Keepass 生成的密码） 最后 针对任何在邮箱中向大家索取：
密码、员工信息、通讯录、组织架构等的邮件，请大家注意确认对方的真实身份，不要轻易透露重要信息。</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-28 00:17:44 +0800 +0800'>2015-10-28</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 几步拥有一个安全密码" href="https://blog.alswl.com/2015/10/a-security-password/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>怎么打日志
    </h2>
  </header>
  <div class="entry-content">
    <p>需要解决的问题：
业务日志打太乱，没有位置和格式约束 什么情况打日志，如何避免滥用，提高日志作用 打日志最佳实践 Dropwizard 列出的打日志原则：
Be human readable.
Be machine parsable.
Be easy for sleepy ops folks to figure out why things are pear-shaped at 3:30AM using standard UNIXy tools like tail and grep.
eg.:
TRACE [2010-04-06 06:42:35,271] com.example.dw.Thing: Contemplating doing a thing. DEBUG [2010-04-06 06:42:35,274] com.example.dw.Thing: About to do a thing. INFO [2010-04-06 06:42:35,274] com.example.dw.Thing: Doing a thing WARN [2010-04-06 06:42:35,275] com.example.dw.Thing: Doing a thing ERROR [2010-04-06 06:42:35,275] com....</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-18 14:25:28 +0800 +0800'>2015-10-18</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 怎么打日志" href="https://blog.alswl.com/2015/10/how-to-log/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Redis 集群扩容
    </h2>
  </header>
  <div class="entry-content">
    <p>几乎每一个网站都需要用户登录状态系统，其中核心是存储 Session 的用户登录状态存储系统。 主流的实现之一是使用 Redis 存储用户登录信息，Redis 特点是功能简单、无依赖、 存储结构丰富、有持久化功能。 我大堆糖的 Session 存储系统也正是基于 Redis。
可是 Redis 也存在一些问题，比如 Redis 自身没有 Sharding 功能，Replication 也是在逐步完善完善过程中 （2.4 支持 Replication，2.8 加入 Replication partial resynchronization 功能）。 纵观当下流行的 DB 系统，哪个不是自带这两个特性，这两个分布式特性应该成为新出产的 DB 系统的标配。 而且作者还经常发布延期，放烟雾弹，不知道 Redis 自带 Sharding 特性要等到何年马月。
随着业务规模的扩大，单台 Redis 实例不能满足需求。 考虑到 Redis 也是久经考验的战士，替换掉他成本比较高，那就对 Redis 进行扩容。
扩容的基本要求是：
扩大系统容量，成为分布式系统，未来有横向扩展 业务不中断 保证原始数据的可用性 Google 了一下，有两个项目可以参考： https://github.com/idning/redis-mgr 和豌豆荚的 Codis。
研究了这两项目的代码之后，发现前者存在几个问题： 需要停机进行操作。 后者提供了完整一套解决方案，Server/Proxy/Config Manage，对我这次迁移来说，太重了， 而且项目比较新，风险高，只能用来参考实现方法。
最后我决定参考 redis-mgr 的方案，然后使用两种方式同步数据： 系统运行中打上 patch 完成数据的动态迁移；后台跑迁移数据脚本。
方案的关键词 dump / restore / pttl 核心的操作流程是： 使用 dump 命令导出数据，restore 命令恢复数据，pttl 命令获取设置 TTL。...</p>
  </div>
  <footer class="entry-footer"><span title='2015-07-26 15:33:49 +0800 +0800'>2015-07-26</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Redis 集群扩容" href="https://blog.alswl.com/2015/07/redis-migration/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://blog.alswl.com/page/3/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://blog.alswl.com/page/5/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://blog.alswl.com">Log4D</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
