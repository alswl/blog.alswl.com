<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.104.3" /><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Log4D</title>

<meta name="description" content="">
<meta name="author" content="alswl">
<link rel="canonical" href="https://blog.alswl.com/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css" integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://blog.alswl.com/atom.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-8822123-3', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Log4D" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.alswl.com/" /><meta property="og:site_name" content="Log4D" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Log4D"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Log4D",
  "url": "https://blog.alswl.com/",
  "description": "",
  "thumbnailUrl": "https://blog.alswl.com/favicon.ico",
  "sameAs": [
      "https://twitter.com/alswl", "https://github.com/alswl", "/atom.xml"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.alswl.com/" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.alswl.com/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Windows management for hacker
    </h2>
  </header>
  <div class="entry-content">
    <p>团队里的同学有时看见我键指如飞，可以用快捷键将 Mac 的窗口玩转于手心。他们表示酷炫非常，
心生羡慕的同时，希望掌握这门技艺，我就把使用的 Phoenix 介绍给大家。结果过了一段时间，
发现普及率并不高，本着好为人师的精神，今天我就来八一八这款优秀的桌面管理工具。
在介绍我使用的工具之前，我要先介绍一下我选择的原因和历史。
ps：配图是我长草多年的 Ergodox Infinity。（@夫人，看到这里的时候，请留步思考 5s）。
Alt&#43;Tab = 苦难的历史 当我还年轻的时候，曾经对 Alt&#43;Tab 这个快捷键愤慨无比，觉得这种设计虽然简单但是很蠢。
命中率低。要在茫茫图标中查找自己需要的窗口，如果开了 20 个应用，切换到一个非常用窗口至多可能需要 20-1 次按键。
不要跟我说有 Alt&#43;Shift&#43;Tab 的反向循环操作，估计大部分用户都不知道。而且 正向/反向 切换伤脑子。 交互方式耗时。由于 Alt&#43;Tab 的操作需要用户进行反馈才能进行，是 眼-手-眼-手 的操作反馈方式，
这种交互模式费时费脑子。跟这种需要实时反馈对立的交互模式应当是类似「一键呼出」的操作。 在大显示器、多显示器的环境下面，Alt-Tab 模式没有做任何优化。 频繁切出窗口进行切换，容易让人分神，比如切换时候看到某个播放器的标题，在放一首喜欢的歌，很可能吸引过去。 有人会问，难道不优化都是缺陷么？
我的答案是肯定的。Alt&#43;Tab 是几乎除鼠标之外的唯一一种窗口操作方式。如果它不能跟上时代的步伐，
对大显示器、多显示器做优化，那就是不作为，不努力，不上进。跟不上变化是要被淘汰的！
平铺式窗口管理器 在被 Windows Alt-Tab 虐了多年之后，我长大了，开始接触 Linux，但是这种痛苦仍然时刻包围着我。
当我分期购买一个外置显示器之后，这种痛苦到达到了顶端。
恰好彼时我是 ArchLinux 的信徒，很快就发现了一片桃源：
自己安装 Window manager。
我重新认识了桌面系统世界，除了介绍常规的 Gnome / KDE / xfce 之外，还有一类窗口管理系统，他们叫做「平铺式窗口管理器」。
（严格来说，Gnome / KDE / xfce 属于 Desktop environment，层级比「窗口管理系统」要高，我这里不做严格区分）。
什么是平铺式窗口管理器？来一个直观的认识：...</p>
  </div>
  <footer class="entry-footer"><span title='2016-04-24 16:36:16 +0800 CST'>2016-04-24</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Windows management for hacker" href="https://blog.alswl.com/2016/04/windows-management-for-hacker/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>技术之外
    </h2>
  </header>
  <div class="entry-content">
    <p>这是一天一本书的第二次执行，这次选了一本比较薄的书，上周的书看了一天，脑仁疼。
在我组织团队新兵训练营（入职之后一段时间内容集中的培训）时候，
经常和新同事聊到一个词：软实力。
我将其描述为专业技能之外的能力。每个人都这种能力的解读可能会不一样，
我将其拆解为：「对工作的热情；观察力和反思能力；做计划和决策是否周全」。
这种拆解是不全面的，「多年」以后，我意识到，硬实力考衡的是专业的能力，
而软实力则是考衡人的因素。这种晚来的意识让我在一段时间里面，
将自己的工作陷入困境，并且得不到解药。
Google 的两位工程师 Brian W. Fitzpatrick 和 Ben Collins-Sussman
写了一本书极客与团队，通过他们的视角，
告诉大家想要在团队中获得成功的另一面。不要被书名误解，我觉得「开发者和团队」是更好的名字，
虽然没那么酷。
要在团队中获得成功，你必须以谦虚、尊重和信任为核心原则。
要做的第一件事情，应该就是沟通了。让自己成为一个玻璃玲珑人，
其他人可以看到你的方向、目标和里程碑，同时可以看到你的进展和问题点。
这样不但可以获得工作中的肯定，当个人的目标设定和团队出现偏差，
又或是开发过程中在一个点停顿了太久，可以有其他人参与进来或直接伸出援手。
这种透明度对上对下都应该如此。团队的领导，
应当在开发周期内的早期就明确告知团队愿景、目标和设定的里程碑。
产生共鸣的愿景可以让人对目标有渴望，对自己工作有认同。
各位还记得中国中小学开学第一周里，大多都有一个开学典礼讲话。讲的好的领导，
会阐述自己的教学理念，去年取得的成绩，今年的教学着重点。
讲的差的领导就是泛泛而谈，每年都是一套话术，完全看不到长进。
缺失沟通，还会将个人陷于单打独斗的境地，一个篮球队需要 5 个人大，
一个人牛逼没屁用。
提高工程质量的一个有效手段就是 CI（持续集成），将开发过程中一点点的小进展都以一种机械的方式呈现出来，
并进行测试。另一个有效手段是 Code Review，不但推荐要 CR，更是要尽早、快速的 CR。
避免屎积压多了拉，太臭。
我突然想到一条实践：即便是做一个人的项目，在精简程度上也保持最小的一个阈值，
想象明天就要长假，工作要交给别人维护，如何在交付物里面有足够的信息让其他人知晓细节。
而不是丢给后继维护者一句冰冷的话：「看代码」。
沟通必须是有效的，我想任何人都不想听一个嘴碎的人在那边逼逼一下午。
有很多结构化、一部的沟通可以显著提高沟通效率：
项目看板、设计文档、Code Review、代码注释、数据字典等。
第二个重要的观点是，接受失败，承认自己不是无能的。你可能很聪明，但所做的事情不一定完全都是正确的，
连上帝都会犯错，何况是普通人。犯错不可怕，但是犯错还认识不到可怕。犯错并且认识到了，
但是拒绝承认错误的人，不是可怕，而是应该要被淘汰，这类人会极其难以合作。
如何你周围都是这样的人，或者你上司是这样的人，也许你可以考虑换一个地方，在拉钩搜索「堆糖」试试吧。
关于接受失败的另外一个隐含后续发展就是「成长」。意识到这个世界是动态发展的，
「要以发展的眼光看待事物」是一个非常非常有用的认知。
能自己意识到失败，并且会主动复盘，重新认知自己的人，往往会成长的极为迅速。
关于成长的话题可以讨论很深，以后可以单独拎出来讨论。
书中提到一个失败后回顾的清单：
简要 时间的时间线，从发现到调查，再到最终见过 事件发生的主因 影响和损失评估 立即修正问题的步骤 防止事件再次发生的步骤 得到的教训 我就哈哈哈了，这不就是我大堆糖的故障报告模板么？
第三点，如何成长？简单来说，去冒险，去承担自己能力之外的任务，
去挑战没有经历过的任务。有一条彼得定律：「在组织或企业的等级制度中，
人会因其某种特质或特殊技能，令他在被擢升到不能胜任的职位，相反变成组织的障碍物（冗员）及负资产。」。
前半段含义是，大部分情况下面，并不是具有了相应能力才去承担，而是试着去承担任务。...</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-28 18:16:01 +0800 CST'>2016-02-28</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 技术之外" href="https://blog.alswl.com/2016/02/team-geek/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一例 Timeout 故障
    </h2>
  </header>
  <div class="entry-content">
    <p>早晨刚到公司， HAProxy 报警，Trtornis（第三方云存储网关，用来统一管理阿里云和七牛云的对象存储） 全飘红。
检查日志，并没有 ERROR 信息，但是大量 WARN 报错。
WARN [2015-12-09 11:01:02,730] org.eclipse.jetty.util.thread.QueuedThreadPool: dw{STARTED,8&lt;=50&lt;=50,i=0,q=1024} rejected org.eclipse.jetty.io.AbstractConne ction$2@62c021c6 WARN [2015-12-09 11:01:02,731] org.eclipse.jetty.io.SelectorManager: Could not process key for channel java.nio.channels.SocketChannel[connected local=/10. 1.1.78:8350 remote=/10.1.1.74:63290] ! java.util.concurrent.RejectedExecutionException: org.eclipse.jetty.io.AbstractConnection$2@62c021c6 ! at org.eclipse.jetty.util.thread.QueuedThreadPool.execute(QueuedThreadPool.java:362) [tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.AbstractConnection$FillingState.onEnter(AbstractConnection.java:379) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.AbstractConnection.next(AbstractConnection.java:273) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:563) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:82) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectChannelEndPoint.onSelected(SelectChannelEndPoint.java:109) ~[tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectorManager$ManagedSelector.processKey(SelectorManager.java:636) [tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectorManager$ManagedSelector.select(SelectorManager.java:607) [tritonis-shaded.jar:0.0.1-SNAPSHOT] ! at org.eclipse.jetty.io.SelectorManager$ManagedSelector.run(SelectorManager.java:545) [tritonis-shaded....</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-02 23:34:44 +0800 CST'>2016-02-02</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 一例 Timeout 故障" href="https://blog.alswl.com/2016/02/a-timeout-fault/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>一次艰难的 Wiki 升级
    </h2>
  </header>
  <div class="entry-content">
    <p>公司使用 Confluence
管理自己的知识库，
现在使用的版本还是 3.0.1，而最新的 Confluence 版本已经是 5.4&#43;。
新版本加入的一些现代化 Web 系统的新特性很吸引人（拖拽上传，可见即所得编辑），
在群众的强烈呼声下，我着手开始升级。
官方的升级路线很扯，3.0.1 的升级路线是：
3.0.1 -&gt; 3.5.17 5.0.3 -&gt; 5.4.4 中间两次大版本升级，第一次原因不明，第二次是更新了 markup 渲染引擎，
改为 HTML 格式类型的渲染模式。
由于一些原因，我们系统还跑在 embedded 模式下（其实就是 HyperSQL），这种大版本升级，
需要先从内置库升级到外部数据库，比如 MySQL。
苦逼旅程就开始了。
From embedded to MySQL 更新内置库到外部库的操作流程：
导出当前的数据备份，包括附件，我导出后 1G&#43; 使用当前同版本（3.0.1）安装一个全新的 wiki，注意下载 JDBC-connector 安装之后，配置好 MySQL，开始导入之前准备好的备份 悲剧上演 遇到了错误：
Import failed. Hibernate operation: could not insert: [com.atlassian.confluence.core.BodyContent#12028015]; SQL []; Duplicate entry ‘12028015’ for key ‘PRIMARY’; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry ‘12028015’ for key ‘PRIMARY’...</p>
  </div>
  <footer class="entry-footer"><span title='2016-01-12 22:53:55 +0800 CST'>2016-01-12</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 一次艰难的 Wiki 升级" href="https://blog.alswl.com/2016/01/confluence-upgrade/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>SS with Haproxy
    </h2>
  </header>
  <div class="entry-content">
    <p>以前用自己的 SS，Linode 美国，后来 Linode 日本，但是始终拼不过上海电信的国际带宽。
经常不稳定，丢一半的包。
于是买了 SS 服务，
9 台服务器，自己挑觉得速度快的服务器。
但一直固定某台服务器也会偶尔出问题，导致邮件出不来，网页打不开。
需要手动切换一下服务器。
于是用 HA 做了一个本地代理，调整了一些参数，让 SS 总是有快速的服务器供选择。
结构：
&#43;-----------------&#43; &#43;----------------&#43; | | | | | Server 1 |&gt;&gt;&gt;&gt;v &gt;&gt;| Mail.app | | | v ^ | | &#43;-----------------&#43; v ^ &#43;----------------&#43; v ^ &#43;-----------------&#43; v |----------------&#43; &#43;------------&#43; ^ &#43;----------------&#43; | | v | | | | ^ | | | Server 2 |&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;| HAProxy |&gt;&gt;&gt;&gt;&gt;&gt;| SS-Client |&gt;&gt;&gt;| Browser | | | ^ | | | | v | | &#43;-----------------&#43; ^ &#43;----------------&#43; &#43;------------&#43; v &#43;----------------&#43; ^ v &#43;-----------------&#43; ^ v &#43;----------------&#43; | | ^ v | | | Server 3 |&gt;&gt;&gt;&gt;^ v&gt;| Evernote....</p>
  </div>
  <footer class="entry-footer"><span title='2015-11-27 20:23:24 +0800 CST'>2015-11-27</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to SS with Haproxy" href="https://blog.alswl.com/2015/11/ss-with-haproxy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>几步拥有一个安全密码
    </h2>
  </header>
  <div class="entry-content">
    <p>给团队非开发同学写的邮件，对其他人也有些意义，遂贴出来。
这个互联网越来越不安全 https://www.baidu.com/s?wd=%E5%AF%86%E7%A0%81%E6%B3%84%E9%9C%B2%E4%BA%8B%E4%BB%B6。密码数据库泄露，黑客暴库攻击，社会工程学攻击层出不穷。我给大家介绍几个小方法，轻松提高自己各类密码的安全等级。
先给个地址，大家可以测试一下自己常用密码的复杂度：https://howsecureismypassword.net/
认为自己电脑水平还可以的，请直接翻到文章最后。
如何管理密码 给普通用户的建议：
密码设置复杂一些，不要使用生日、日期、姓名等有意义的信息 使用一套合理的密码生成策略 重点来了，密码生成策略：
选择自己喜欢的诗词或者某句话，比如「床前明月光，疑是地上霜」，取其拼音的第一个字母 cqmygysdss 将每个句子第一个单词大写，cqmygysdss -&gt; CqmygYsdss 加上对应网站的信息，比如 163：CqmygYsdss163，qq： CqmygYsdssqq 大功告成，你的密码安全级别提升了。
—————————– 高手的分界线 ———————–
给高水平选手推荐的方案：
核心思想：密码分级，分离普通密码、重要密码（财务相关等）。 普通密码使用大小写英文和数字混合 重要密码和财务相关密码，独立生成密码，保存到 1Password / KeePass 等工具中，每个应用软件独立开来。 推荐 KeePass，免费，参考 http://www.iplaysoft.com/keepass.html 常见弱密码和暴力破解需要时间 123456 / 不需要 duitang / 2s huhela1993 / 10天 huhela_1993 / 48年 CqmygYsdssqq / 3千年 ]W?852HCMHFUYzrz,F / 10000^5 年（Keepass 生成的密码） 最后 针对任何在邮箱中向大家索取：
密码、员工信息、通讯录、组织架构等的邮件，请大家注意确认对方的真实身份，不要轻易透露重要信息。</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-28 00:17:44 +0800 CST'>2015-10-28</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 几步拥有一个安全密码" href="https://blog.alswl.com/2015/10/a-security-password/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>怎么打日志
    </h2>
  </header>
  <div class="entry-content">
    <p>需要解决的问题：
业务日志打太乱，没有位置和格式约束 什么情况打日志，如何避免滥用，提高日志作用 打日志最佳实践 Dropwizard 列出的打日志原则：
Be human readable.
Be machine parsable.
Be easy for sleepy ops folks to figure out why things are pear-shaped at 3:30AM using standard UNIXy tools like tail and grep.
eg.:
TRACE [2010-04-06 06:42:35,271] com.example.dw.Thing: Contemplating doing a thing. DEBUG [2010-04-06 06:42:35,274] com.example.dw.Thing: About to do a thing. INFO [2010-04-06 06:42:35,274] com.example.dw.Thing: Doing a thing WARN [2010-04-06 06:42:35,275] com.example.dw.Thing: Doing a thing ERROR [2010-04-06 06:42:35,275] com....</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-18 14:25:28 +0800 CST'>2015-10-18</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 怎么打日志" href="https://blog.alswl.com/2015/10/how-to-log/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Redis 集群扩容
    </h2>
  </header>
  <div class="entry-content">
    <p>几乎每一个网站都需要用户登录状态系统，其中核心是存储 Session 的用户登录状态存储系统。
主流的实现之一是使用 Redis 存储用户登录信息，Redis 特点是功能简单、无依赖、
存储结构丰富、有持久化功能。
我大堆糖的 Session 存储系统也正是基于 Redis。
可是 Redis 也存在一些问题，比如 Redis 自身没有 Sharding 功能，Replication
也是在逐步完善完善过程中
（2.4 支持 Replication，2.8 加入 Replication partial resynchronization 功能）。
纵观当下流行的 DB 系统，哪个不是自带这两个特性，这两个分布式特性应该成为新出产的 DB 系统的标配。
而且作者还经常发布延期，放烟雾弹，不知道 Redis 自带 Sharding 特性要等到何年马月。
随着业务规模的扩大，单台 Redis 实例不能满足需求。
考虑到 Redis 也是久经考验的战士，替换掉他成本比较高，那就对 Redis 进行扩容。
扩容的基本要求是：
扩大系统容量，成为分布式系统，未来有横向扩展 业务不中断 保证原始数据的可用性 Google 了一下，有两个项目可以参考：
https://github.com/idning/redis-mgr
和豌豆荚的 Codis。
研究了这两项目的代码之后，发现前者存在几个问题：
需要停机进行操作。
后者提供了完整一套解决方案，Server/Proxy/Config Manage，对我这次迁移来说，太重了，
而且项目比较新，风险高，只能用来参考实现方法。
最后我决定参考 redis-mgr 的方案，然后使用两种方式同步数据：
系统运行中打上 patch 完成数据的动态迁移；后台跑迁移数据脚本。
方案的关键词 dump / restore / pttl 核心的操作流程是：...</p>
  </div>
  <footer class="entry-footer"><span title='2015-07-26 15:33:49 +0800 CST'>2015-07-26</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Redis 集群扩容" href="https://blog.alswl.com/2015/07/redis-migration/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>带理想的执行者 - 柳比歇夫的一生
    </h2>
  </header>
  <div class="entry-content">
    <p>作为战斗民族的俄罗斯民族，不但能在热带风暴级的灿鸿中进行正常起降，
历来也盛产各种奇葩人物。
最近我有看到一本描述一个科学家的如何生活的书，叫「奇特的一生」。
让人拍案称奇。
主人公是一位名叫柳比歇夫的科学家，想必他在「回首往事时候没有因为虚度年华而悔恨」，
因为他将自己的一生都精确的奉献到分类学、地蚤研究上面。
他的工作投入，不是单纯激情洋溢投入，而是精确到分钟级别的投入，
是奉献完整一生的投入。
除了学术上面的成功，他的时间记录法也很牛逼，甚至让苏联科学院进行研究。怎么描述他的牛逼呢？如果他生活在今天，大致会这样写：
今天我 19:00 - 19:25 看了新闻联播，感受到社会各阶级在党的领导下面获得令人振奋的成绩
19:25 休息了一会，避过无聊的天气预报时间
19:30 - 20:30 学习了「XXX 的讲话精神研究」
附加工作：20:35 - 20:40 小解，顺便刷了一会朋友圈作为今天的娱乐放松，评论了隔壁老王老婆的出行照片
看到没有，他精确的记录了自己的时间使用记录，犹如脑子里面有个精确的 GTD
管理器，那个年代 David Allen 还没出生呢，肯定也谈不上了解 Get Things Done。苏联真是靠各类牛逼人物撑起了一战、二战时候工业大跃进和各种黑科技的崛起。
简单记录时间当然不能带来效率和成果的提升，柳比歇夫明显没有纳什这种神经病天才的聪明，他能获得这样比较高的成就，必须还有真正的大招。
第一招是他有坚定的奋斗目标：「创立生物自然分类法」。我们暂不管这不出名的法则是什么，能在 1918 年（他时年 28 岁，我擦，和我现在差不多大啊）就提出自己一生奋斗的目标，着实了不起。
从书中的记录来看，28 岁的青年教师柳比歇夫，
在日记里面描述他想要做什么事情，需要具备什么素质，
并且在估算重要里程碑时间点。
我估摸着，在战争中成长起来的人，不仅仅需要幸运，还需要勇气和坚韧意志，
19 世纪初年，沙皇政权摇摇欲坠，布尔什维克们应该还在密谋革命造反，
民众生活艰苦（感觉好像民国时期的中国）。
这种时代的大环境造就了各阶级人物命运的跌宕起伏，附带效应是出产优秀的文人和思想家。
柳比歇夫既然在这个时期成长，那也会渴望建树功勋，做点改变世界的事情。
第二招是，他就去做了。
「听过了很多大道理，却依然过不好这一生」，无非是缺在执行。
柳比歇夫的时间记录法，不是简单作为一个日记本在使用，
关键点在于回顾和计划。通过过去的记录，分析自我，总结经验，判断未来。
哎哟，道理说起来都简单，做起来都难，柳比歇夫作为一个很好的例子，
告诉我们，一个资质普通的人，决定牺牲自我，奉献到某个特定事业时候，
可以获得的成绩，他完成了「立言」。
在这个物欲横流，信息多得炸掉脑仁，各类媒体都在抢占眼珠的时代，能够不忘初心，
去做点实际的事情，是一件不容易的事情。
对快 30 的我来说，别说「立言」，就光「立命」，
就已经让我困苦不堪，在这和平年代，没有家仇国恨美国梦，想要做点牛逼的事情，就得需要勇气和爱来驱动。</p>
  </div>
  <footer class="entry-footer"><span title='2015-07-12 17:29:19 +0800 CST'>2015-07-12</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 带理想的执行者 - 柳比歇夫的一生" href="https://blog.alswl.com/2015/07/liu-bi-xie-fu/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>2015 沪港 Hackathon
    </h2>
  </header>
  <div class="entry-content">
    <p>我想参加黑客马拉松很久了，去年就观战过 2014 沪港黑客马拉松。
但苦于需要连续两天时间，一直没有下定决心参加。
上周末本来安排了两天的团队会议，后来临时取消，
给了我充足的时间。于是我在 27 号周五下午，报名参加了 27 号晚上开始的 2015 沪港 Hackathon。
独自作战的我，在现场寻觅了几个小伙伴组了一个队伍，其中有 小草 / tevin / 女王 / Doris / n1k0。
小草负责树莓派服务端，tevin 负责传感器取数据，我……负责前端游戏逻辑，哈哈哈，我已经三年没有写前端代码了，为了团队职责分工，只能赶鸭子上架了。
经过现场的头脑风暴，我们最后选定了基于树莓派的游戏：
通过感应玩家的手掌移动距离来玩类似节奏大师的音乐游戏。
具体的游戏原理，可以在 基于树莓派的体感音乐游戏 看到，
源码也在 Github 这里。
最关键是，我们这支临时凑齐的战队，经过两天一夜的奋战，拿了一等奖（第二名），拥有了去香港参加国际赛资格和一堆乱七八糟的云服务器现金券、折扣券！！！撒花撒花
第一次参加 Hackathon，就能获得这个奖，觉得自己蛮幸运，
和队友合作愉快，和队友通宵到三点多调整音乐命中算法，然后在早上 6 点钟被冻醒。五音不全的我花了几个小时将超级玛丽五线谱转化为发音库能够理解的符号描述。
虽然最后由于时间原因不能和队友去香港参加比赛，但是仍然祝愿他们在香港能够继续加油。各位队友，Have fun。</p>
  </div>
  <footer class="entry-footer"><span title='2015-04-04 00:39:41 +0800 CST'>2015-04-04</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 2015 沪港 Hackathon" href="https://blog.alswl.com/2015/04/2015-hk-sh-hackathon/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://blog.alswl.com/page/3/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://blog.alswl.com/page/5/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://blog.alswl.com/">Log4D</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
