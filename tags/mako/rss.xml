<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Mako on Log4D</title>
    <link>https://blog.alswl.com/tags/mako/</link>
    <description>Recent content in Mako on Log4D</description>
    <generator>Hugo -- 0.134.2</generator>
    <language>zh</language>
    <lastBuildDate>Fri, 25 Nov 2011 00:00:00 +0800</lastBuildDate>
    <atom:link href="https://blog.alswl.com/tags/mako/rss.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>dbevent2gc v0.1发布</title>
      <link>https://blog.alswl.com/2011/11/dbevent2gc-v0-1-released/</link>
      <pubDate>Fri, 25 Nov 2011 00:00:00 +0800</pubDate>
      <guid>https://blog.alswl.com/2011/11/dbevent2gc-v0-1-released/</guid>
      <description>&lt;p&gt;重要通知：Log4D的域名由 &lt;a href=&#34;http://dddspace.com&#34;&gt;http://dddspace.com&lt;/a&gt; 迁移到
&lt;a href=&#34;http://log4d.com&#34;&gt;http://log4d.com&lt;/a&gt; 。&lt;/p&gt;
&lt;p&gt;订阅地址现在改为 &lt;a href=&#34;http://log4d.com/feed&#34;&gt;http://log4d.com/feed&lt;/a&gt; 和
&lt;a href=&#34;http://feeds.feedburner.com/dddspace&#34;&gt;http://feeds.feedburner.com/dddspace&lt;/a&gt;
。（FeedBurner的地址未发生变化）&lt;/p&gt;
&lt;p&gt;&lt;strike&gt;&lt;a href=&#34;http://feed.dddspace.com&#34;&gt;http://feed.dddspace.com&lt;/a&gt;&lt;/strike&gt; 弃用&lt;/p&gt;
&lt;p&gt;请订阅我博客的朋友更新一下订阅地址。&lt;/p&gt;
&lt;p&gt;




&lt;img loading=&#34;lazy&#34; src=&#34;https://blog.alswl.com/images/upload_dropbox/201111/dbevent2gc.png&#34; alt=&#34;dbevent2gc&#34;  /&gt;


&lt;/p&gt;
&lt;h2 id=&#34;关于dbevent2gc&#34;&gt;关于dbevent2gc&lt;/h2&gt;
&lt;p&gt;A application to sync douban.com events to Google Calendar.&lt;/p&gt;
&lt;p&gt;dbevent2gc是一个GAE应用，它将豆瓣同城的活动同步到Google Calendar的日历， 允许用户订阅活动而知道最近几周周边将发生活动。&lt;/p&gt;
&lt;p&gt;dbevent2gc是基于Python/web.py/mako/iCalendar的，源代码地址在
&lt;a href=&#34;https://github.com/alswl/dbevent2gc&#34;&gt;https://github.com/alswl/dbevent2gc&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;使用方法&#34;&gt;使用方法&lt;/h2&gt;
&lt;p&gt;目前dbevent2gc运行在GAE上面，地址是 &lt;a href=&#34;http://dbevent2gc.appspot.com&#34;&gt;http://dbevent2gc.appspot.com&lt;/a&gt; （墙外）
&lt;a href=&#34;http://dbevent2gc.log4d.com/&#34;&gt;http://dbevent2gc.log4d.com/&lt;/a&gt; （我做的本地反向代理）
登录这个地址可以选择需要订阅的城市和活动类型，然后会生成一个按钮， 点击这个按钮可以直接将选择的活动订阅到Google日历。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>重要通知：Log4D的域名由 <a href="http://dddspace.com">http://dddspace.com</a> 迁移到
<a href="http://log4d.com">http://log4d.com</a> 。</p>
<p>订阅地址现在改为 <a href="http://log4d.com/feed">http://log4d.com/feed</a> 和
<a href="http://feeds.feedburner.com/dddspace">http://feeds.feedburner.com/dddspace</a>
。（FeedBurner的地址未发生变化）</p>
<p><strike><a href="http://feed.dddspace.com">http://feed.dddspace.com</a></strike> 弃用</p>
<p>请订阅我博客的朋友更新一下订阅地址。</p>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201111/dbevent2gc.png" alt="dbevent2gc"  />


</p>
<h2 id="关于dbevent2gc">关于dbevent2gc</h2>
<p>A application to sync douban.com events to Google Calendar.</p>
<p>dbevent2gc是一个GAE应用，它将豆瓣同城的活动同步到Google Calendar的日历， 允许用户订阅活动而知道最近几周周边将发生活动。</p>
<p>dbevent2gc是基于Python/web.py/mako/iCalendar的，源代码地址在
<a href="https://github.com/alswl/dbevent2gc">https://github.com/alswl/dbevent2gc</a></p>
<h2 id="使用方法">使用方法</h2>
<p>目前dbevent2gc运行在GAE上面，地址是 <a href="http://dbevent2gc.appspot.com">http://dbevent2gc.appspot.com</a> （墙外）
<a href="http://dbevent2gc.log4d.com/">http://dbevent2gc.log4d.com/</a> （我做的本地反向代理）
登录这个地址可以选择需要订阅的城市和活动类型，然后会生成一个按钮， 点击这个按钮可以直接将选择的活动订阅到Google日历。</p>
<p>如果你无法翻墙，可以使用 [http://dbevent2gc.appspot.com/event/location/beijing?type=all](h
ttp://dbevent2gc.appspot.com/event/location/beijing?type=all) 这样的地址添加到你的Google
Calender里面。</p>
<p>接受的参数：</p>
<ul>
<li>城市（把最后的beijing替换成你想要的城市拼音， 更多城市拼音查看<a href="http://www.douban.com/location/world/?others=true">这里</a></li>
<li>活动类型 type，支持all, commonweal, drama, exhibition, film, music, others, party, salon, sports, travel. 可选参数,默认为all</li>
</ul>
<h2 id="安装方法">安装方法</h2>
<p>如果想自己搭建GAE应用，也很简单，直接使用 <code>git://github.com/alswl/dbevent2gc.git</code> 就可以获取最新代码，
然后嘛去GAE注册一个应用，上传即可运行了。</p>
<p>dbevent2gc看上去可以用了，我昨晚发布了v0.1版本。</p>
<p>感兴趣的同学可以试试，现在的问题是获取的活动可能太多了，<strike>我后期会加上过滤功能</strike>（update
2011-11-26，我已经添加了活动类型选择功能）。</p>
]]></content:encoded>
    </item>
    <item>
      <title>TypeError: sequence item 22: expected string or Unicode, long found</title>
      <link>https://blog.alswl.com/2011/08/mako-typeerror/</link>
      <pubDate>Thu, 25 Aug 2011 00:00:00 +0800</pubDate>
      <guid>https://blog.alswl.com/2011/08/mako-typeerror/</guid>
      <description>&lt;p&gt;Mako 下面开发时候，遇到这个问题&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TypeError: sequence item : expected string or Unicode, long found&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Trace 的情况大概这样（我的错误信息无法再现，这是某位外国友人的错误信息）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;File &amp;lsquo;/Users/amaslov/Projects/dou-pylons/doupy/doupy/controllers/ root.py&amp;rsquo;,
line 239 in staticpage&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;return render(&amp;rsquo;/pages/%s.html&amp;rsquo; % name)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;File &amp;lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py&amp;rsquo;, line 274 in render_mako&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;cache_type=cache_type, cache_expire=cache_expire)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;File &amp;lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py&amp;rsquo;, line 249 in
cached_template&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;return render_func()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;File &amp;lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py&amp;rsquo;, line 271 in
render_template&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;return literal(template.render_unicode(**globs))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;File &amp;lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Mako-0.2.4-py2.5.egg/mako/template.py&amp;rsquo;, line 138 in render_unicode
return runtime.&lt;em&gt;render(self, self.callable&lt;/em&gt;, args, data, as_unicode=True) File
&amp;lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Mako-0.2.4-py2.5.egg/mako/runtime.py&amp;rsquo;, line 348 in _render&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;return context._pop_buffer().getvalue()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;File &amp;lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Mako-0.2.4-py2.5.egg/mako/util.py&amp;rsquo;, line 74 in getvalue&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;return self.delim.join(self.data)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;TypeError: sequence item 68: expected string or Unicode, NoneType found&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Mako 的邮件列表曾在2009年遇到这个错误，讨论信息在[这里](&lt;a href=&#34;http://www.mail-archive.com/pylons-&#34;&gt;http://www.mail-archive.com/pylons-&lt;/a&gt;
&lt;a href=&#34;mailto:discuss@googlegroups.com&#34;&gt;discuss@googlegroups.com&lt;/a&gt;/msg11021.html)（需翻墙）&lt;/p&gt;
&lt;p&gt;讨论了半天也没什么结果，一直围绕在 default_filter 上面，我改了半天，也没效果。&lt;/p&gt;
&lt;p&gt;测试服务器和正式环境都没有问题，最后试了清空&lt;code&gt;data/session, data/templates&lt;/code&gt; 目录，终于没错误了。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Mako 下面开发时候，遇到这个问题</p>
<blockquote>
<p>TypeError: sequence item : expected string or Unicode, long found</p>
</blockquote>
<p>Trace 的情况大概这样（我的错误信息无法再现，这是某位外国友人的错误信息）</p>
<blockquote>
<p>File &lsquo;/Users/amaslov/Projects/dou-pylons/doupy/doupy/controllers/ root.py&rsquo;,
line 239 in staticpage</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>return render(&rsquo;/pages/%s.html&rsquo; % name)</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>File &lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py&rsquo;, line 274 in render_mako</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>cache_type=cache_type, cache_expire=cache_expire)</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>File &lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py&rsquo;, line 249 in
cached_template</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>return render_func()</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>File &lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py&rsquo;, line 271 in
render_template</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>return literal(template.render_unicode(**globs))</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>File &lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Mako-0.2.4-py2.5.egg/mako/template.py&rsquo;, line 138 in render_unicode
return runtime.<em>render(self, self.callable</em>, args, data, as_unicode=True) File
&lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Mako-0.2.4-py2.5.egg/mako/runtime.py&rsquo;, line 348 in _render</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>return context._pop_buffer().getvalue()</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>File &lsquo;/Users/amaslov/Projects/dou-pylons/py/lib/python2.5/site-
packages/Mako-0.2.4-py2.5.egg/mako/util.py&rsquo;, line 74 in getvalue</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>return self.delim.join(self.data)</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>TypeError: sequence item 68: expected string or Unicode, NoneType found</p>
</blockquote>
<p>Mako 的邮件列表曾在2009年遇到这个错误，讨论信息在[这里](<a href="http://www.mail-archive.com/pylons-">http://www.mail-archive.com/pylons-</a>
<a href="mailto:discuss@googlegroups.com">discuss@googlegroups.com</a>/msg11021.html)（需翻墙）</p>
<p>讨论了半天也没什么结果，一直围绕在 default_filter 上面，我改了半天，也没效果。</p>
<p>测试服务器和正式环境都没有问题，最后试了清空<code>data/session, data/templates</code> 目录，终于没错误了。</p>
<p>Google 上这个错误信息资料太少，我就记下来，如果哪位同学出现同样错误找到我这里，就方便解决了。</p>
]]></content:encoded>
    </item>
    <item>
      <title>一个mako.vim</title>
      <link>https://blog.alswl.com/2011/06/mako-vim/</link>
      <pubDate>Thu, 09 Jun 2011 00:00:00 +0800</pubDate>
      <guid>https://blog.alswl.com/2011/06/mako-vim/</guid>
      <description>&lt;p&gt;给Vim找了一个Mako的语法高亮，发现着色居然有问题。查看更新记录后发现作者&lt;a href=&#34;http://lucumr.pocoo.org/&#34;&gt;Armin Ronacher&lt;/a&gt;只更新到08年9月份。之后Mako更新了一些少许细节，我修改了一下mako.vim，放在这里供下载。&lt;/p&gt;
&lt;p&gt;其实我只改了57/58行，增加一个block语法。&lt;/p&gt;
&lt;p&gt;点击这里下载：&lt;a href=&#34;../../static/images/upload_dropbox/201106/mako.vim&#34;&gt;mako.vim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用方法，放入vimfiles/syntax&lt;/p&gt;
&lt;p&gt;相关链接：&lt;/p&gt;
&lt;p&gt;原始mako.vim：&lt;a href=&#34;http://www.vim.org/scripts/script.php?script_id=1858&#34;&gt;http://www.vim.org/scripts/script.php?script_id=1858&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;另外一个mako.vim是缩进用的，放入vimfiles/syntax：&lt;a href=&#34;http://www.vim.org/scripts/script.php?script_id=2663&#34;&gt;http://www.vim.org/scripts/script.php?script_id=2663&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ps：Mako是一个Python下面的Template框架。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>给Vim找了一个Mako的语法高亮，发现着色居然有问题。查看更新记录后发现作者<a href="http://lucumr.pocoo.org/">Armin Ronacher</a>只更新到08年9月份。之后Mako更新了一些少许细节，我修改了一下mako.vim，放在这里供下载。</p>
<p>其实我只改了57/58行，增加一个block语法。</p>
<p>点击这里下载：<a href="../../static/images/upload_dropbox/201106/mako.vim">mako.vim</a></p>
<p>使用方法，放入vimfiles/syntax</p>
<p>相关链接：</p>
<p>原始mako.vim：<a href="http://www.vim.org/scripts/script.php?script_id=1858">http://www.vim.org/scripts/script.php?script_id=1858</a></p>
<p>另外一个mako.vim是缩进用的，放入vimfiles/syntax：<a href="http://www.vim.org/scripts/script.php?script_id=2663">http://www.vim.org/scripts/script.php?script_id=2663</a></p>
<p>ps：Mako是一个Python下面的Template框架。</p>
<p>pss：貌似服务器ip被认证了，讨厌~</p>
]]></content:encoded>
    </item>
    <item>
      <title>Pylons使用小记</title>
      <link>https://blog.alswl.com/2011/05/pylons/</link>
      <pubDate>Mon, 16 May 2011 00:00:00 +0800</pubDate>
      <guid>https://blog.alswl.com/2011/05/pylons/</guid>
      <description>&lt;p&gt;活着就是折腾，最近事情多的一塌糊涂，烦躁的很，导致log4d也荒废一个月了。今天趁着周五晚上，梳理一下最近学习的pylons知识。&lt;/p&gt;
&lt;p&gt;




&lt;img loading=&#34;lazy&#34; src=&#34;https://blog.alswl.com/images/upload_dropbox/201105/pylons.png&#34; alt=&#34;image&#34;  /&gt;


&lt;/p&gt;
&lt;h2 id=&#34;关于pylons&#34;&gt;关于Pylons&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://pylonsproject.org/&#34;&gt;Pylons&lt;/a&gt;是一个用pythons写的web框架，优点是配置灵活，默认使用[Mako](http:
//www.makotemplates.org/)作为Template，&lt;a href=&#34;http://www.sqlalchemy.org/&#34;&gt;SQLAlchemy&lt;/a&gt;作为
ORM映射。使用BSD作为授权协议。&lt;/p&gt;
&lt;p&gt;托WSGI的福，python的web框架超多，甚至高手5分钟可以自己手写一个web框架，这种情况也导致了Python
web框架的纷杂。我这里选择Pylons（其实是被选择），并不是说Pylons一定最好，而是比较适合当前项目。更多的Python
web框架对比建议看这篇[浅谈Python web框架](&lt;a href=&#34;http://feilong.me/2011/01/talk-about-python-web-&#34;&gt;http://feilong.me/2011/01/talk-about-python-web-&lt;/a&gt;
framework)，另外，这个&lt;a href=&#34;http://www.bestwebframeworks.com/python/&#34;&gt;Best Web-
Framework&lt;/a&gt;有直观的对比。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>活着就是折腾，最近事情多的一塌糊涂，烦躁的很，导致log4d也荒废一个月了。今天趁着周五晚上，梳理一下最近学习的pylons知识。</p>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201105/pylons.png" alt="image"  />


</p>
<h2 id="关于pylons">关于Pylons</h2>
<p><a href="http://pylonsproject.org/">Pylons</a>是一个用pythons写的web框架，优点是配置灵活，默认使用[Mako](http:
//www.makotemplates.org/)作为Template，<a href="http://www.sqlalchemy.org/">SQLAlchemy</a>作为
ORM映射。使用BSD作为授权协议。</p>
<p>托WSGI的福，python的web框架超多，甚至高手5分钟可以自己手写一个web框架，这种情况也导致了Python
web框架的纷杂。我这里选择Pylons（其实是被选择），并不是说Pylons一定最好，而是比较适合当前项目。更多的Python
web框架对比建议看这篇[浅谈Python web框架](<a href="http://feilong.me/2011/01/talk-about-python-web-">http://feilong.me/2011/01/talk-about-python-web-</a>
framework)，另外，这个<a href="http://www.bestwebframeworks.com/python/">Best Web-
Framework</a>有直观的对比。</p>
<h2 id="pylons环境配置">Pylons环境配置</h2>
<p>因为开发机是刚到手的ThinkPad，没有冒险安装Linux，所以这里的安装环境是Win7 + Python 2.6 + MySQL5.1。</p>
<h3 id="1安装pylons">1、安装Pylons</h3>
<p>Pylons似乎没有方便的easy_install，原因是由于Pylons在安装过程中，会生成一个目标环境。这个环境包括完整的Python环境，从而与系统自
带Python环境独立开来，防止第三方库的相互污染。Pylons官方提供了一个Python <a href="http://www.pylonshq.com/download/1.0/go-pylons.py">go-
pylons.py</a>脚本进行安装。</p>
<p>通过在shell键入命令<code>python go-pylons.py myb_env</code>安装，其中myb_env代表目标环境，会在当前目录下面生成一个myb_en
v文件夹，myb_env也可以使用绝对路径代替。在生成完之后请不要随意移动这个目录，因为环境里生成的Python脚本硬编码了绝对路径。</p>
<h3 id="2安装mysql-python驱动">2、安装mysql-python驱动</h3>
<p>我使用的是MySQL数据库，使用mysql-python驱动，windows下具体安装过程可以参见[http://fendou.org/2010/06/17
/install-python26-mysql-python-on-windows/](<a href="http://fendou.org/2010/06/17">http://fendou.org/2010/06/17</a>
/install-python26-mysql-python-on-windows/) 需要修改一下源码和加入几个dll。</p>
<h3 id="3生成egg包下载第三方依赖">3、生成egg包，下载第三方依赖</h3>
<p>在目标项目下面，执行<code>python setup.py develop</code>，这将执行项目需要的三方依赖，设定依赖可以到<code>setup.py中install_req uires</code>进行配置。这个步骤用到了easy_install，所以请确保python/script下面有easy_install的可执行文件。windows
下安装easy_install可以参考这里[http://thinkhole.org/wp/2007/02/01/howto-install-
setuptools-in-windows/](<a href="http://thinkhole.org/wp/2007/02/01/howto-install-">http://thinkhole.org/wp/2007/02/01/howto-install-</a>
setuptools-in-windows/)。</p>
<p>呼啦啦一大串命令跑完之后，就ok了。</p>
<h3 id="4安装额外的三方依赖可选">4、安装额外的三方依赖（可选）</h3>
<p>根据实际情况操作吧，我这里使用了<code>easy_install python-memcached</code>和<code>easy_install pil</code>，前者是memcache的python驱动，后者是python图形库。</p>
<h3 id="5初始化数据库">5、初始化数据库</h3>
<p>托SQLAlchemy的福，我们可以让它自动给我们创建映射表。首先确保在model下面配置好model类。</p>
<pre><code>class Person(Base):
    __tablename__ = &quot;person&quot;
</code></pre>
<p>id = Column(Integer, primary_key=True)</p>
<p>name = Column(String(100))</p>
<p>email = Column(String(100))</p>
<p>def <strong>init</strong>(self, name=&rsquo;&rsquo;, email=&rsquo;&rsquo;):</p>
<p>self.name = name</p>
<p>self.email = email</p>
<p>然后在目标项目下面的development.ini中配置数据库连接字符串。</p>
<pre><code># SQLAlchemy database URL
#sqlalchemy.url = sqlite:///%(here)s/myb.db
sqlalchemy.url = mysql://test:test@localhost/myb?charset=utf8&amp;use_unicode=0
</code></pre>
<p>最后在shell中执行<code>paster setup-app development.ini</code>，即可初始化好数据库结构。</p>
<p>如果需要在初始化时候加入测试数据，可以在项目目录下的websetup.py中setup_app方法填充数据。</p>
<p>如果paster运行错误，则使用<code>easy_install Paste</code>安装一下paster。</p>
<h3 id="6运行app">6、运行app</h3>
<p>在shell中运行<code>paster serve --reload development.ini</code>即可启动网站，通过访问127.0.0.1:5000访问。</p>
<h2 id="pylons中常用的paster命令viahttpwwwcnblogscomjustrun1983archive200912">pylons中常用的paster命令([via](<a href="http://www.cnblogs.com/JustRun1983/archive/2009/12">http://www.cnblogs.com/JustRun1983/archive/2009/12</a></h2>
<p>/17/1626771.html))</p>
<p>paster create -t pylons helloworld</p>
<p>创建一个以pylons为模板的项目，项目名字是helloworld</p>
<p>paster create &ndash;list-templates</p>
<p>显示当前的pylons中有多少可以使用的模板</p>
<p>paster serve &ndash;reaload development.ini</p>
<p>最常用的命令了，启动调式程序的时候都会使用得到它。</p>
<p>paster controller helloworld</p>
<p>常见一个新的controller,名字是helloworld.会在项目目录controller中生成一个hellowolrd.py文件。这个是一个最基本的c
ontroller文件了，可以修改代码，完成我们的目的。</p>
<p>paster setup-app development.ini</p>
<p>安装数据库表。</p>
<p>当配置好了model的__init__.py文件，执行这个命令按照要求生成数据库结构。</p>
<p>数据库默认是sqlite的，如果要修改sqlite数据库路径或者更换成mysql数据库，需要修改development.ini文件。</p>
<h2 id="更多的文档">更多的文档</h2>
<p>[Pylons Reference Documentation</p>
<p>](<a href="http://docs.pylonsproject.org/projects/pylons_framework/dev/index.html">http://docs.pylonsproject.org/projects/pylons_framework/dev/index.html</a>)</p>
<p><a href="http://www.sqlalchemy.org/docs/index.html">SQLAlchemy 0.6.8 Documentation</a></p>
<p><a href="http://www.makotemplates.org/docs/index.html">Mako 0.4.1 Documentation</a></p>
<p><a href="http://pythonpaste.org/script/">Paste Script v1.7 documentation</a></p>
]]></content:encoded>
    </item>
  </channel>
</rss>
