<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>建站 on Log4D</title>
    <link>https://blog.alswl.com/tags/%E5%BB%BA%E7%AB%99/</link>
    <description>Recent content in 建站 on Log4D</description>
    <generator>Hugo -- 0.125.3</generator>
    <language>zh</language>
    <lastBuildDate>Mon, 21 May 2012 15:17:00 +0800</lastBuildDate>
    <atom:link href="https://blog.alswl.com/tags/%E5%BB%BA%E7%AB%99/rss.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>给 Octopress 加上标签功能</title>
      <link>https://blog.alswl.com/2012/05/tag-cloud/</link>
      <pubDate>Mon, 21 May 2012 15:17:00 +0800</pubDate>
      <guid>https://blog.alswl.com/2012/05/tag-cloud/</guid>
      <description>上周，我将 Log4D 由 Wordpress 转换为 Octopress，略加打理，颇为顺手。 自动分类 / 评论转移 / 代码高亮 / 图床 的问题一一解决之后， 就只剩下 tag 的问题没有搞定了。 我当时使用了YORKXIN的修改版本来处理 Wordpress 的数据迁移，这个脚本很好用，数据没有遗失，甚至是让我担心的 category / tag 都给予了保留。具体使用方法可以参见从Wordpress迁移到Octopress。 只是虽然 tag 的数据保留了，但是 Octopress 仅支持 category 的分类，而完全忽略 tag。这是</description>
      <content:encoded><![CDATA[<p>上周，我将 Log4D 由 Wordpress 转换为 Octopress，略加打理，颇为顺手。
自动分类 / 评论转移 / 代码高亮 / 图床 的问题一一解决之后，
就只剩下 tag 的问题没有搞定了。</p>
<p>我当时使用了YORKXIN的<a href="https://gist.github.com/1394128">修改版本</a>来处理 Wordpress
的数据迁移，这个脚本很好用，数据没有遗失，甚至是让我担心的 category /
tag 都给予了保留。具体使用方法可以参见<a href="http://blog.dayanjia.com/2012/04/migration-to-octopress-from-wordpress/">从Wordpress迁移到Octopress</a>。</p>
<p>只是虽然 tag 的数据保留了，但是 <strong>Octopress 仅支持 category 的分类，而完全忽略
tag</strong>。这是我不能容忍的：category 和 tag 分别代表 有序 / 无序 的知识点归纳方法。
<strong>一篇文章只能属于一个 category，但可以同时属于多个 tag</strong>。
Octopress 的设计方法显然和我长期养成的知识归纳体系冲突，我开始吭次吭次寻找插件。</p>
<!-- more -->
<p>ps：Octopress 官方也推荐了一个所谓「<a href="https://github.com/tokkonopapa/octopress-tagcloud">octopress-tagcloud</a>」的插件，
<strong>但这仅仅是让 category 用 列表 / 标签云的形式展示出来，并没有给文章加入 tag
概念</strong>。更多官方插件可以查看
<a href="https://github.com/imathis/octopress/wiki/3rd-party-plugins">3rd party plugins</a>。</p>
<p>就在我准备放弃，自己动手用蹩脚的 ruby 水平写插件时候，突然在 github 找到这种插件：
<a href="https://github.com/robbyedwards/octopress-tag-pages">robbyedwards / octopress-tag-pages</a>和
<a href="https://github.com/robbyedwards/octopress-tag-cloud">robbyedwards / octopress-tag-cloud</a>。前者负责采集文章的 tag 信息，后者提供标签云展示功能。赞美 Github。</p>
<p>这两个插件使用很简单，将插件文件放入对应的目录（<strong>注意备份，存在覆盖的情况</strong>）。
然后再给插件「octopress-tag-cloud」添加一个专属页面存放标签云即可。
这个标签云生成的标记是 <code>li...li</code> ，需要在 <code>sass/custom/_styles.scss</code> 添加对应的样式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">#</span><span class="nn">content</span> <span class="nt">article</span> <span class="p">.</span><span class="nc">cloud</span> <span class="nt">li</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">display</span><span class="p">:</span> <span class="kc">inline</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">list-style</span><span class="p">:</span> <span class="kc">none</span> <span class="kc">outside</span> <span class="kc">none</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>第二个插件 octopress-tag-cloud 会和 Octopress 官方推荐的所谓「Octopress Tag Cloud」
文件 / tag 标记 冲突，我建议修改官方的那个插件。</p>
<p>我修改过的 octopress-tagcloud 在这里，被重命名为
<a href="https://github.com/alswl/octopress-category-list">alswl / octopress-category-list</a>。</p>
<p>这个版本同时参考了 <a href="http://pfmiles.github.com/blog/liquid-error-about-regexp-match-when-using-octopress-tagcloud/">pf_miles</a> 的 utf-8 修改，以修复问题 <code>Liquid error: incompatible encoding regexp match (ASCII-8BIT regexp with UTF-8 string)</code> 。</p>
<p>最后 Show 一下我的<a href="http://log4d.com/tag/">一坨标签云</a>，
等有时间我再将标签和类别精简一下，以适应 Octopress。</p>
]]></content:encoded>
    </item>
    <item>
      <title>使用独立图床子域名</title>
      <link>https://blog.alswl.com/2012/05/image-host/</link>
      <pubDate>Wed, 09 May 2012 16:21:00 +0800</pubDate>
      <guid>https://blog.alswl.com/2012/05/image-host/</guid>
      <description>最近在将 Wordpres 切换到 OctoPress，顺便将图片统一放到Upload4D管理。 我挑选图床管理程序有下面几个需求，需求由强到弱排列： 开源 简单 不需数据库支持 支持分目录 允许上传图片 支持后台直接操作文件 支持用户管理，不允许其他人上传 页面美观 不要生成缩略图等文件 软件持续更新 于是我踏上了「考古之旅」，先后试用了 MiniGal Nano / MG2 / CF Image Host Script / minishowcase 等等图床软件，评测记录如下。 参赛选手 MiniGal Nano 没有上传功能 没有后台管理功能 2010年最</description>
      <content:encoded><![CDATA[<p>最近在将 Wordpres 切换到 OctoPress，顺便将图片统一放到<a href="https://upload.log4d.com">Upload4D</a>管理。</p>
<p>我挑选图床管理程序有下面几个需求，需求由强到弱排列：</p>
<ul>
<li>开源</li>
<li>简单</li>
<li>不需数据库支持</li>
<li>支持分目录</li>
<li>允许上传图片</li>
<li>支持后台直接操作文件</li>
<li>支持用户管理，不允许其他人上传</li>
<li>页面美观</li>
<li>不要生成缩略图等文件</li>
<li>软件持续更新</li>
</ul>
<p>于是我踏上了「考古之旅」，先后试用了 MiniGal Nano / MG2 /
CF Image Host Script / minishowcase 等等图床软件，评测记录如下。</p>
<!-- more -->
<h2 id="参赛选手">参赛选手</h2>
<h3 id="minigal-nanohttpwwwminigaldkminigal-nanohtml"><a href="http://www.minigal.dk/minigal-nano.html">MiniGal Nano</a></h3>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/mg-nano.png" alt="MG Nano"  title="MiniGal Nano"  />


</p>
<ul>
<li>没有上传功能</li>
<li>没有后台管理功能</li>
<li>2010年最后更新</li>
</ul>
<h3 id="mg2httpwwwminigaldkmg2html"><a href="http://www.minigal.dk/mg2.html">MG2</a></h3>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/mg2-front.png" alt="MG2 前台"  />








<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/mg2-admin.png" alt="MG2 管理界面"  />


</p>
<ul>
<li>假目录，其实所有照片在同一目录下面</li>
<li>界面丑</li>
<li>09年更新</li>
</ul>
<h3 id="美优网-meiu-studiophp相册系统httpmeiucn"><a href="http://meiu.cn/">美优网 Meiu Studio|php相册系统</a></h3>
<ul>
<li>国产</li>
<li>需要 MySQL</li>
</ul>
<h3 id="cf-image-hosting-script-v142httpwwwcodefuturecoukprojectsimagehost"><a href="http://www.codefuture.co.uk/projects/imagehost/">CF Image Hosting Script v1.4.2</a></h3>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/cf-image-host.png" alt="CF Image Hosting"  />


</p>
<ul>
<li>据说煎蛋在使用</li>
<li>无法用户控制</li>
<li>无目录</li>
</ul>
<h3 id="minishowcasehttpminishowcasenet"><a href="http://minishowcase.net/">Minishowcase</a></h3>
<ul>
<li>没看见上传功能</li>
<li>没看见目录功能</li>
<li>丑</li>
<li>2009年更新</li>
</ul>
<h3 id="qdighttpqdigsourceforgenet"><a href="http://qdig.sourceforge.net/">Qdig</a></h3>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/qdig.png" alt="Qdig"  />


</p>
<ul>
<li>无法上传</li>
<li>丑</li>
<li>2006年更新</li>
</ul>
<h3 id="ifoto-css-based-gd2-photo-galleryhttpsourceforgenetprojectsifoto"><a href="http://sourceforge.net/projects/ifoto/">iFoto, CSS-based GD2 photo gallery</a></h3>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/ifoto.png" alt="iFoto"  />


</p>
<ul>
<li>无法上传</li>
<li>丑</li>
<li>2006年更新</li>
</ul>
<h3 id="encode-explorerhttpencode-explorersiineiolekalanet"><a href="http://encode-explorer.siineiolekala.net/">Encode Explorer</a></h3>
<p>




<img loading="lazy" src="https://e25ba8-log4d-c.dijingchao.com/upload_dropbox/201205/encode-explorer.png" alt="Encode Explorer"  />


</p>
<ul>
<li>这其实是一个文件管理器</li>
<li>支持预览</li>
<li>不支持多文件上传</li>
<li>其他要求全部达到</li>
</ul>
<h2 id="最终选择">最终选择</h2>
<p>最后，我选择了 Encode Explorer，坑爹吧，获胜者居然是一个文件管理软件，
而不是一个图床软件。</p>
<p>Encode Explorer 是单文件程序，代码一共3k多行，我看了一下，还能支持多语言，
我就加上了中文支持，并且修正了新建目录/新建文件的权限 bug，改为目录755,
文件644，并且这两个模式可以在配置文件修改。</p>
<p>修改之后的 Encode Explorer 可以在
<a href="https://github.com/alswl/encode-explorer">alswl / encode-explorer</a> 找到。</p>
<p>既然已经不单纯是图床了，那我也把以前的一些附件放到这个子域名下，域名也要由
img.log4d.com 改为 upload.log4d.com 。</p>
<p>我用 sed 命令将原来的图片和附件命令批量修改，命令如下
<code>sed -i 's/log4d.com\/wp-content\/uploads/upload.log4d.com/g' ./_posts/*</code>。</p>
<p>ps:今天是我博客独立3周年纪念日，本来想在今天之前把 Wordpress 迁移到
OctoPress，可惜最近太忙，就耽误了。</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
