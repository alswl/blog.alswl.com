<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>破解三才五格姓名测试 - Log4D</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="block-all-mixed-content">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />



<link rel="canonical" href="http://127.0.0.1:8000/2018/07/naming-algorithem/">

        <meta name="author" content="alswl" />
        <meta name="keywords" content="Family" />
        <meta name="description" content="image from Wikipedia 八卦 随着孩子预产期临近，我还有一个重要的任务没有完成：给孩子起一个名字。 这本来是个随性的任务，但是由于上一辈笃信某个算命先生的姓名测试算法，让这个任务难度倍增。 我根据一些古文取了不少名字，但是最后都败在姓名测试上面：得分不高。得分不高老一辈就要有说辞， 我自己就是一个活生生案例，曾用名得分不高，中考被逼换了名字，改头换面重新做人。 我根据韵律取的名字几乎都败在算分数上面，我得琢磨一下其中奥秘，提高取名效率，避免再出现差错。 不少网站都提供姓名测试算命，我且先看看上面的得分，研究一下规律： 姓名测试,姓名打评分,姓名算命,姓名分析,在线三才五格五行吉凶剖象 姓名测试打分，根据周易三才五格取名法为您评测姓名-中华起名网 【姓名测试】姓名测试打分算命_姓名打分_姓名测试打分生辰八字 - 美国神婆星座网 每家网站都写得天花乱坠：易经、五格剖象法、五行起名、五格起名、三格数理。 这些都不用 Care，因为它们都是来自同一个算法：「三才五格」。" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css"/>
    <link href="https://cdn.staticfile.org/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://127.0.0.1:8000/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://127.0.0.1:8000/theme/css/style.css" type="text/css"/>

    <link href="http://127.0.0.1:8000/atom.xml" type="application/atom+xml" rel="alternate" title="Log4D Atom Feed" />
    <link href="http://127.0.0.1:8000/rss.xml" type="application/rss+xml" rel="alternate" title="Log4D RSS Feed" />

</head>
<body>

<div class="navbar navbar-default" role="navigation">
    <div class="container  col-lg-8 col-lg-offset-2">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://127.0.0.1:8000/" class="navbar-brand">
Log4D            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/tags/">Tags</a></li>
                    <li><a href="/links/">Links</a></li>
                    <li><a href="/about/">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://127.0.0.1:8000/archives/"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">

    <section id="content">
        <article class="article-detail">
            <header class="page-header">
                <h1 class="title">
                    <a href="http://127.0.0.1:8000/2018/07/naming-algorithem/"
                       rel="bookmark"
                       title="Permalink to 破解三才五格姓名测试">
                        破解三才五格姓名测试
                    </a>
                </h1>
                <nav class="toc col-lg-2">
                  <div id="toc"><ul><li><a class="toc-href" href="#熊崎健翁的三才五格" title="熊崎健翁的三才五格">熊崎健翁的三才五格</a></li><li><a class="toc-href" href="#三才五格计算算法" title="三才五格计算算法">三才五格计算算法</a></li><li><a class="toc-href" href="#工程实现" title="工程实现">工程实现</a></li><li><a class="toc-href" href="#最后" title="最后">最后</a></li></ul></div>
                </nav>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2018-07-29T19:19:36+08:00"> 2018-07-29</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="http://127.0.0.1:8000/tag/family/">Family</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><img alt="201807/bagua.png" src="https://4ocf5n.dijingchao.com/upload_dropbox/201807/bagua.png"/> <small>image from Wikipedia <a href="https://zh.wikipedia.org/wiki/%E5%85%AB%E5%8D%A6">八卦</a></small></p>
<p>随着孩子预产期临近，我还有一个重要的任务没有完成：给孩子起一个名字。 这本来是个随性的任务，但是由于上一辈笃信某个算命先生的姓名测试算法，让这个任务难度倍增。 我根据一些古文取了不少名字，但是最后都败在姓名测试上面：得分不高。得分不高老一辈就要有说辞， 我自己就是一个活生生案例，曾用名得分不高，中考被逼换了名字，改头换面重新做人。</p>
<p>我根据韵律取的名字几乎都败在算分数上面，我得琢磨一下其中奥秘，提高取名效率，避免再出现差错。 不少网站都提供姓名测试算命，我且先看看上面的得分，研究一下规律：</p>
<ul>
<li><a href="http://www.123cha.com/xm/">姓名测试,姓名打评分,姓名算命,姓名分析,在线三才五格五行吉凶剖象</a></li>
<li><a href="http://www.zhonghuaqiming.com/testname.aspx">姓名测试打分，根据周易三才五格取名法为您评测姓名-中华起名网</a></li>
<li><a href="https://www.meiguoshenpo.com/xingming/ceshi/">【姓名测试】姓名测试打分算命_姓名打分_姓名测试打分生辰八字 - 美国神婆星座网</a></li>
</ul>
<p>每家网站都写得天花乱坠：易经、五格剖象法、五行起名、五格起名、三格数理。 这些都不用 Care，因为它们都是来自同一个算法：「三才五格」。</p>
<!-- more -->
<h2 id="熊崎健翁的三才五格">熊崎健翁的三才五格</h2>
<p>我回想先生使用的算命方法，有这么几个特点：</p>
<ul>
<li>跟我强调使用了「康熙字典」进行计算</li>
<li>给了我一个网址是 <code>.jp</code> 结尾，我当年上网计算之后，的确得到的数字和先生算计的一样，惊为天人</li>
</ul>
<p>根据这两个线索，我很快挖掘到了 <a href="https://zh.wikipedia.org/wiki/%E5%A7%93%E5%90%8D%E5%AD%A6">姓名学 - 维基百科，自由的百科全书</a> 。这里面就着重解释了日本人熊崎健翁的「三才五格」算法，</p>
<p>五格分别是天格、人格、地格、外格、总格，三才是天格、人格、地格的总称。 虽然三才五格看着挺像中国易经的概念，但其实是出口转内销的舶来品。 五格的具体解释如下：</p>
<ul>
<li>天格：是先祖留传下来的，其数理对人影响不大。</li>
<li>地格：又称前运，影响人中年以前的活动力。</li>
<li>人格：又称主运，是整个姓名的中心点，影响人的一生命运。</li>
<li>总格：又称后运，影响人中年以后的命运。</li>
<li>外格：又称变格，影响人的社交能力、智慧等，其数理不用重点去看。</li>
</ul>
<p>另外熊崎健翁还创造性的将五行引入，把这个模型做的更复杂。 不过评分的影响因子还是只有五格，单个字的五行并没有发挥直接的作用。 也有一些算命先生会刻意将单字的五行做成相生相克连贯起来，这样显得更有学问。</p>
<h2 id="三才五格计算算法">三才五格计算算法</h2>
<p>这个算法的流程是这样：</p>
<ul>
<li>计算每个汉字的笔画数
<ul>
<li>姓名拆分为姓和名，尤其要注意单姓和复姓</li>
<li>将简体姓和名转换为繁体姓和名</li>
<li>将繁体姓和名映射为康熙字典中的姓和名</li>
<li>将康熙字典中的姓和名的笔画数检出</li>
</ul></li>
<li>根据笔画数计算五格（数字）
<ul>
<li>天格：姓氏笔划再加一数即是天格数（若是复姓，将姓之笔划合计）</li>
<li>人格：将姓氏与第一个名字相加即是人格数（若复姓双名，则姓氏的第二个字笔画加名的第一个字的笔画； 复姓单名则姓氏的第二个字加名的笔画）</li>
<li>地格：将第一个名字与第二个名字相加即是地格数（若是单名，将名字再加一数）</li>
<li>外格：将名字最后一字加一数即是外格数</li>
<li>总格：将姓与名相加即是总格数</li>
</ul></li>
<li>（可选）根据五格计算五行（这个五行对计算结果没有影响）
<ul>
<li>尾数 1、2 于五行属木</li>
<li>尾数 3、4 于五行属火</li>
<li>尾数 5、6 于五行属土</li>
<li>尾数 7、8 于五行属金</li>
<li>尾数 9、10 于五行属水</li>
</ul></li>
<li>根据笔画数得到解释
<ul>
<li>计算规则见 <a href="https://baike.baidu.com/item/%E6%80%BB%E6%A0%BC">总格_百度百科</a>， 其内容是列出 1-81 数字对应的情况，这个规则没有给出具体吉凶</li>
</ul></li>
<li>根据解释得到吉凶等级
<ul>
<li>123cha / 中华起名网 / 美国神婆都是根据这个解释给出一个大概吉凶，他们给吉凶有一些小差异</li>
</ul></li>
<li>根据吉凶等级计算总分
<ul>
<li>每家网站的算法有些差异，我估计算命先生的公式也应该有一些差异</li>
<li>我自己根据对五格的解释，给出一个加权公式，跟几家算命网站进行了加权因子拟合</li>
</ul></li>
</ul>
<p>上述流程中，有两个给算命先生留出的调整空间：</p>
<ul>
<li>根据解释推出吉凶</li>
<li>根据吉凶计算总分</li>
</ul>
<p>根据解释推出吉凶，我研读了一下解释，比较倾向中华起名网和美国神婆的吉凶判断。 举例「旱苗逢雨」的解释，123cha 给出「(旱苗逢雨) 万物更新，调顺发达，恢弘泽世，繁荣富贵」吉。 中华起名网和美国神婆给出「（旱苗逢雨）：挽回家运的春成育数」和 「（旱苗逢雨）万物更新，调顺发达，恢弘泽世，繁荣富贵」大吉。 从解释的意象来看，我觉得应当作大吉。</p>
<p>第二个调整空间是根据吉凶计算总分。有了五格的吉凶，要给出百分制下面的总分， 这看上去需要一个加权公式。这个公式的设计决定最后得分多少。 我根据五格的定位设计了一份。</p>
<p>常见吉凶等级以及他们对应的得分，这个得分是我自行设计，从 100-0 依次排序：</p>
<ul>
<li>大吉 100</li>
<li>吉 75</li>
<li>*半吉 62.5</li>
<li>平 50</li>
<li>凶 25</li>
<li>大凶 0</li>
</ul>
<p>由于没有统一算法计算吉凶总分，我根据五格解释，设计了吉凶等级的加权因子：</p>
<ul>
<li>天格：是先祖留传下来的，其数理对人影响不大。5%</li>
<li>地格：又称前运，影响人中年以前的活动力。20%</li>
<li>人格：又称主运，是整个姓名的中心点，影响人的一生命运。45%</li>
<li>总格：又称后运，影响人中年以后的命运。20%</li>
<li>外格：又称变格，影响人的社交能力、智慧等，其数理不用重点去看。10%</li>
</ul>
<p>大功告成，我们拿几个姓名过来测算一下这个算法是否合理：</p>
<ul>
<li>芮成钢总分：<code>100*0.05 + 62.5*0.2 + 100*0.45 + 62.5*0.2 + 100*0.1 = 85</code>
<ul>
<li>123cha 72</li>
<li>中华算命 92</li>
<li>美国神婆 82</li>
</ul></li>
<li>狄小天总分：<code>0*0.05 + 100*0.2 + 75*0.45 + 100*0.2 + 100*0.1 = 83.75</code>
<ul>
<li>123cha 81</li>
<li>中华算命 91</li>
<li>美国神婆 85</li>
</ul></li>
<li>狄二总分：<code>25*0.05 + 25*0.2 + 100*0.45 + 0*0.2 + 25*0.1 = 53.75</code>
<ul>
<li>123cha 46</li>
<li>中华算命 59</li>
<li>美国神婆 65</li>
</ul></li>
</ul>
<p>通过最后的得分可以看到，三种算法的结果还是比较接近的。</p>
<h2 id="工程实现">工程实现</h2>
<p>光实现了算法还没完，我还要有程序帮我做自动化计算。 名字的输入可以自行设计，用诗经、楚辞、古诗源等古文，然后导入程序计算得分。</p>
<p>为了工程实现，我需要准备如下数据：</p>
<ul>
<li>简体汉字到繁体汉字的转换</li>
<li>繁体汉字到康熙字典中汉字比划数</li>
<li>根据笔画数计算出吉凶</li>
<li>（可选）汉字对应的五行</li>
</ul>
<p>经过一下午搜索，我终于将需要的数据准备好：</p>
<ul>
<li><a href="https://github.com/BYVoid/OpenCC">BYVoid/OpenCC: A project for conversion between Traditional and Simplified Chinese</a> 提供转换简繁体</li>
<li><a href="https://github.com/breezyreeds/kangxi-strokecount">breezyreeds/kangxi-strokecount: Lookup stroke count according to Kangxi radicals. 康熙字典筆劃數對照表</a> 提供笔画数</li>
<li>虽然 <a href="https://baike.baidu.com/item/%E6%80%BB%E6%A0%BC">总格_百度百科</a> 提供了解释， 但是还是需要从相关网站爬取吉凶等级</li>
<li><a href="https://github.com/Microshaoft/EditPlus/blob/26edd54bc26db36db8b3b17b4c670dc2953c78fe/User/Chinese.CTL">EditPlus/Chinese.CTL at 26edd54bc26db36db8b3b17b4c670dc2953c78fe &middot; Microshaoft/EditPlus</a> 提供了单个汉字的五行计算</li>
</ul>
<h2 id="最后">最后</h2>
<p>资深算命先生狄大师提醒大家，不管什么测字法都是玄学，玩玩就好，千万不要过于上心， 除非你家里有老人信这个，而你恰好又是一个孝子。</p>
<p>在一切准备就绪之后，我离出去当算命先生之差一个竹竿和墨镜了。 作为工程师，我当然会提供一个开放应用给大家用，请大家耐心等待我的小程序上架。</p>

            </div>
            <!-- /.entry-content -->
              
<hr>
<div class="panel">
<div class="panel-body">
   <small>原文链接: <a href="https://blog.alswl.com/2018/07/naming-algorithem/">https://blog.alswl.com/2018/07/naming-algorithem/</a></small><br>
   <small>3a1ff193cee606bd1e2ea554a16353ee</small><br>
   <small>欢迎关注我的微信公众号：<a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&wechat_redirect">窥豹</a></small><br>
   <small><img src="https://4ocf5n.dijingchao.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/></small>
   <small><img src="https://4ocf5n.dijingchao.com/upload_dropbox/meta/wechat-pay-s-crop.png"/></small>
</div>
</div>

        </article>
    </section>

        </div>
        <div class="col-lg-3 col-lg-offset-2" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item"><a href="https://blog.alswl.com/atom.xml"><i class="fa fa-rss-square fa-lg"></i> RSS</a></li>
                    <li class="list-group-item"><a href="https://twitter.com/alswl"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                    <li class="list-group-item"><a href="https://github.com/alswl"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                    <li class="list-group-item"><a href="http://weibo.com/alswlx"><i class="fa fa-weibo fa-lg"></i> Weibo</a></li>
                  </ul>
                </li>




        </ul>
    </section>

</aside>        </div>
    <div class="col-lg-3" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><a href="http://127.0.0.1:8000/"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                    <ul class="list-group" id="categories">
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/coding/">
                                <i class="fa fa-folder-open fa-lg"></i> Coding
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/efficiency/">
                                <i class="fa fa-folder-open fa-lg"></i> Efficiency
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/fun/">
                                <i class="fa fa-folder-open fa-lg"></i> Fun
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/internet/">
                                <i class="fa fa-folder-open fa-lg"></i> Internet
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/life/">
                                <i class="fa fa-folder-open fa-lg"></i> Life
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/managment/">
                                <i class="fa fa-folder-open fa-lg"></i> Managment
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/thinking/">
                                <i class="fa fa-folder-open fa-lg"></i> Thinking
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/ui/">
                                <i class="fa fa-folder-open fa-lg"></i> UI
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://127.0.0.1:8000/category/viewpoint/">
                                <i class="fa fa-folder-open fa-lg"></i> Viewpoint
                            </a>
                        </li>
                    </ul>
                </li>


        </ul>
    </section>

</aside>    </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2005-2020 alswl
            &middot; Powered by <a href="https://github.com/alswl/pelican-bootstrap3" target="_blank" style="font-weight: bold">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank" style="font-weight: bold">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank" style="font-weight: bold">Bootstrap</a>,
            <p>
              <small> <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license"><img alt="Creative Commons License" style="border-width:0" src="https://4ocf5n.dijingchao.com/upload_dropbox/meta/by-nc-nd_4-0_80x15.png"></a> Content licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license">Creative Commons Attribution 4.0 International-NonCommercial-NoDerivatives License</a>, except where indicated otherwise. </small>
            </p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://cdn.staticfile.org/jquery/1.11.0/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->

    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8822123-3']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->
</body>
</html>