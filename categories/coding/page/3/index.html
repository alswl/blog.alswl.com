<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>coding | Log4D</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="alswl">
<link rel="canonical" href="https://blog.alswl.com/categories/coding/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fcb8ff387cda8551f3867e8c0e2af5aae9b5df9ce2e143e58af5cd709b4e94a3.css" integrity="sha256-/Lj/OHzahVHzhn6MDir1qum135zi4UPlivXNcJtOlKM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://blog.alswl.com/categories/coding/atom.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-8822123-3', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="coding" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.alswl.com/categories/coding/" /><meta property="og:site_name" content="Log4D" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="coding"/>
<meta name="twitter:description" content=""/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.alswl.com" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.alswl.com/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://blog.alswl.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://blog.alswl.com">Home</a>&nbsp;»&nbsp;<a href="https://blog.alswl.com/categories/">Categories</a></div>
  <h1>
    coding
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Java 运行参数调整
    </h2>
  </header>
  <div class="entry-content">
    <p>JVM 在线上运行的时候，可以调整一些运行参数，查看参数帮助如下：
运行 java -h 可以看到 Java 运行可调整的参数。 运行 java -X 可以查看 Java 支持的额外参数。 注意一些参数的默认开启在 JDK6 和 JDK7 之间会有差异，甚至在 JDK7 的不同 update 也会有差异，运行 java -XX:&#43;PrintFlagsFinal 查看默认的参数配置。
参考： Java HotSpot VM Options The most complete list of -XX options for Java JVM Tuning JVM Garbage Collection for Production Deployments JVM -XX: 参数介绍
以下是一些经验调整：
-d64 # 运行在 64 位数据模式下 -server # 选择 server VM -Xms1024m # 初始堆大小，直接固定到 Xmx -Xmx1024m # 最大堆大小，根据服务器性能和请求量调整，太大了会导致 GC 时间太长 -XX:&#43;DoEscapeAnalysis: # 支持逃逸分析（将局部对象实例存储在栈上） # http://www....</p>
  </div>
  <footer class="entry-footer"><span title='2014-03-22 18:31:55 +0800 +0800'>2014-03-22</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Java 运行参数调整" href="https://blog.alswl.com/2014/03/java-options/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Redis 到底有多快[译文]
    </h2>
  </header>
  <div class="entry-content">
    <p>原文地址 http://redis.io/topics/benchmarks。
拖了一个半月的稿子~
Redis 自带了一个叫 redis-benchmark 的工具来模拟 N 个客户端同时发出 M 个请求。 （类似于 Apache ab 程序）。你可以使用 redis-benchmark -h 来查看基准参数。
以下参数被支持： Usage: redis-benchmark [-h &lt;host&gt;] [-p &lt;port&gt;] [-c &lt;clients&gt;] [-n &lt;requests]&gt; [-k &lt;boolean&gt;] -h &lt;hostname&gt; Server hostname (default 127.0.0.1) -p &lt;port&gt; Server port (default 6379) -s &lt;socket&gt; Server socket (overrides host and port) -c &lt;clients&gt; Number of parallel connections (default 50) -n &lt;requests&gt; Total number of requests (default 10000) -d &lt;size&gt; Data size of SET/GET value in bytes (default 2) -k &lt;boolean&gt; 1=keep alive 0=reconnect (default 1) -r &lt;keyspacelen&gt; Use random keys for SET/GET/INCR, random values for SADD Using this option the benchmark will get/set keys in the form mykey_rand:000000012456 instead of constant keys, the &lt;keyspacelen&gt; argument determines the max number of values for the random number....</p>
  </div>
  <footer class="entry-footer"><span title='2014-02-23 22:38:00 +0800 +0800'>2014-02-23</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Redis 到底有多快[译文]" href="https://blog.alswl.com/2014/02/redis-benchmarks/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Postfix 基本配置[译文]
    </h2>
  </header>
  <div class="entry-content">
    <p>原文地址：Postfix Basic Configuration 。 有少许编译。
介绍 Postfix 的配置文件 main.cf 有数百个配置参数， 幸运的是，所有参数都有合理的默认配置项。 大部分时候，只需要配置两三个参数即可。
安装 Postfix 的方法可以参见 安装方法。
特殊场景用途的配置方式，如邮件中枢，防火墙，拨号环境客户端的说明可以在 标准配置说明 里面查看。
Postfix 配置语法 Postfix 的配置文件默认在 /etc/postfix。主力配置文件是 main.cf 和 master.cf。用户权限必须是 root 的。
/etc/postfix/main.cf 配置语法有两个要点：不用引号，可以使用 $ 来引用参数。
# 定义一个参数 /etc/postfix/main.cf: parameter = value # 引用一个已有参数 /etc/postfix/main.cf: other_parameter = $parameter 引用参数时候，可以再定义之前先引用（Postfix 使用延迟计算技术）。
Postfix 使用数据文件来控制接入权限。详情请看 DATABASE 介绍，一般这样配置：
/etc/postfix/main.cf: virtual_alias_maps = hash:/etc/postfix/virtual 修改 main.cf 或者 master.cf 之后，需要 postfix reload 重新载入配置文件。
配置对外发送域名 myorigin 参数指定邮件中显示的发送域名，默认使用当前机器名 $myhostname。 一般来说，我们会把 myorigin 设置成顶级域名 $mydomain。...</p>
  </div>
  <footer class="entry-footer"><span title='2013-11-09 14:59:00 +0800 +0800'>2013-11-09</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Postfix 基本配置[译文]" href="https://blog.alswl.com/2013/11/postfix-basic-configuration/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>在 Python 中使用 GDB 来调试[译文]
    </h2>
  </header>
  <div class="entry-content">
    <p>大约一年前，我接触了 Java 中的 Btrace 能够不停机查看线上 JVM 运行情况的特性让我艳羡不已。 另外还有强悍的 jStack 和 jConsole 来进行运行期侦测，JVM 的工业级强度果然不是盖的。
当时公司技术方面也遇到了一些瓶颈，一部分原因是 CPython 本身的 IO 模型问题， 另一方面也和早期代码写的极不工整脱不了关系。万般无奈之下，我们用 Jython 推翻重做了主要业务，效果立竿见影，但同时也把真实问题给规避掉了。
在这之后我们在 JVM 的领导下，走上了康庄大道。但我心中始终还有一个梗， 就是想对性能遇到瓶颈的 Python Process 进行线上侦测。 这篇文章就是开始的第一步。
PS:这篇文章理论上是可行的，但是在我机器（Ubuntu 12.04 / 系统自带 Python） 无法正常执行，会爆出 unable to read python frame information 的问题。解决方法我会在下篇文章中写出。这里只是单纯翻译一下原文。
原文可以移步 https://wiki.python.org/moin/DebuggingWithGdb。
有一些类型的 bugs 很难使用 Python 直接进行 debug，比如
段错误（无法被捕捉的 Python 异常） 卡住的进程（这种情况下面没法使用 pdb 来进行跟踪） 控制之外的后台处理 daemon 进程 这些情况下，你可以使用尝试使用 gdb。
准备 需要在系统安装 gdb 和 Python debug 扩展。 Python debug 扩展包含了一些 debug 命令，并且添加了一些 Python 特定的命令到 gdb。 在主流的 Linux 发行版中，你可以轻松的安装他们：...</p>
  </div>
  <footer class="entry-footer"><span title='2013-11-01 01:11:00 +0800 +0800'>2013-11-01</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 在 Python 中使用 GDB 来调试[译文]" href="https://blog.alswl.com/2013/11/python-gdb/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>15 分钟学会 R 语言[译文]
    </h2>
  </header>
  <div class="entry-content">
    <p>仗着自己有几门语言的基础，我在学新语言时候，都会选择一些快速入门教程。 比如 Learn X in Y minuts 就是我经常光顾的站点。
前段时间，小柒在用 R 写数据分析脚本，我就建议她把 Learn X in Y minuts 里面的 R 语言教程翻译出来。话说 Learn X in Y minuts 里面的中文贡献还是非常多的，赞。
Learn X in Y minuts 的源码托管在 Github。 小柒被我逼着把这篇 R 语言教程 翻译到 R 语言教程中文版。
下面是译文，有不妥的地方可以留言或者直接去 Github 上面 Pull request。
R 是一门统计语言。它有很多数据分析和挖掘程序包。可以用来统计、分析和制图。 你也可以在 LaTeX 文档中运行 R 命令。
# 评论以 # 开始 # R 语言原生不支持 多行注释 # 但是你可以像这样来多行注释 # 在窗口里按回车键可以执行一条命令 ################################################################### # 不用懂编程就可以开始动手了 ################################################################### data()	# 浏览内建的数据集 data(rivers)	# 北美主要河流的长度（数据集） ls()	# 在工作空间中查看「河流」是否出现 head(rivers)	# 撇一眼数据集 # 735 320 325 392 524 450 length(rivers)	# 我们测量了多少条河流？ # 141 summary(rivers) # Min....</p>
  </div>
  <footer class="entry-footer"><span title='2013-10-29 22:32:00 +0800 +0800'>2013-10-29</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 15 分钟学会 R 语言[译文]" href="https://blog.alswl.com/2013/10/r-tutorial/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>读《大规模Web服务开发技术》
    </h2>
  </header>
  <div class="entry-content">
    <p>年前看了这本书《大规模Web服务开发技术》，当时给的评价是：
很好，让我这个渣渣看的很感动，数据翔实，经历可靠，翻译的也不错，我给 4.2 分
现在经历过 Python / Django / 烂代码的阵痛，开始有更多的想法， 在整理这些粗糙的想法之前，我又把这本书翻了一遍，写个流水帐读书笔记。
《大规模Web服务开发技术》@豆瓣： http://book.douban.com/subject/6758780/
规模 小规模 / 大规模 / 超大规模的侧重点各不相同：保持扩展性/保持冗余/低成本运维/开发合作方便
内存、磁盘、负载 内存快，磁盘慢，ＩＯ 速度的差异
数据分布式 使用局部分布式，热数据独立出来。 Partition 分布式，按模块分割数据。 按 ID 分割，比如 a-g, h-z 按访问类型，一般请求 / feed / 图像（#毒药计划的原理） 索引 索引，B 树（是一颗平衡树，log n 速度查找，顺序读取，插入，删除） / Ｂ&#43; 树（节点只保存子节点指针，叶子保存数据）
使用 MySQL 索引的语句：
where order by group by 多个查询时候要使用复合索引，每次查询只会走单一一个索引。
算法 感受算法 log n, 线性的差距。
字符匹配 正则到 Trie
贝叶斯匹配 全文搜索 逆向索引
基础设施 云 / 自己构建 评估服务器性能极限 负载跟踪：平均负载 / 内存 / CPU 信息 冗余 Web 服务器冗余 DB 冗余 存储系统 维稳 功能增加 / 内存泄漏 特定 URL 的地雷，资源循环 访问暴增 数据量增加 外部 API 稳定（新浪等） 硬件故障 对策 保持余量， 在 70% 极限内运行 异常时候的自动重启 / 自动中止耗时查询 虚拟化 解除物理限制 软件层面主机控制 番外： 寻找瓶颈 调优的意义：「找出负载原因并去除」...</p>
  </div>
  <footer class="entry-footer"><span title='2013-06-29 00:17:00 +0800 +0800'>2013-06-29</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 读《大规模Web服务开发技术》" href="https://blog.alswl.com/2013/06/web-technology/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Arch，再见
    </h2>
  </header>
  <div class="entry-content">
    <p>Arch 是我真正使用的第一款 Linux 发行版，大约使用了三年， 现在的这个 VPS 跑的系统也是 Arch。 然而随着时间变化，我从最早的天天更新狂，到一周、一个月、三个月和不主动更新。 彻底从从不折腾会死星人变成了一个尽量避免变更的老用户。
Arch 很适合作为第二个（第一个是新手使用的 Ubuntu），它的哲学 KISS 非常优雅， Keep It Simple And Stupid。基于这原则，它将 Linux 内部的使用、运维细节都展现出来。 毫不夸张的说，被 Arch 折腾几年，就能胜任 Linux SA 的角色了（笑）。
可是这种深入带来的学习成本也很高，需要不停地跟着 Arch 社区的变化而变化。 每次更新之前需要先阅读官方升级指南，搞不好就升级给挂了。 而且 Arch 社区升级激进得有些可怕。rc.d 升级 systemctl 时候，我还能撑住， MySQL 转 MariaDB 时候，我也还凑合，但是当我安装一个 privoxy 导致 pacman 崩溃，进而不能安装程序时候，我失去了耐心。
想来也是，我已过折腾系统的年龄，不会给手机刷机 ROM， 而是安安本本的使用没越狱的 iPhone。越发觉得时间和精力是有限的， 需要把它们用到「正经」的地方。我对 Linux 宗教般的膜拜，也逐渐消失， 等下次 MBP 发布我就考虑出手，哈哈。
我曾经的签名中鲜亮的标着「ArchLinux / Python / Vim」，现在要把 ArchLinux 改成 Linuxer 了。 昨晚装了 Ubuntu 12.10，我不喜欢 Ubuntu，只是图它简单省事，社区支持丰富。 在装完之后就卸掉了几十个系统自带的应用，然后把 Awesome 桌面迁移到 Debian 环境。...</p>
  </div>
  <footer class="entry-footer"><span title='2013-04-13 22:04:00 +0800 +0800'>2013-04-13</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to Arch，再见" href="https://blog.alswl.com/2013/04/buy-arch/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>在 Python 中使用 epoll[译文]
    </h2>
  </header>
  <div class="entry-content">
    <p>原文地址： http://scotdoyle.com/python-epoll-howto.html ， 我这里取精简内容翻译过来。
============ 正文开始 ============
介绍 Python 从 2.6 开始支持 epoll。现在我们用 Python3 来写基于这些 API 的 epoll 范例。
阻塞的 Socket 通信范例 import socket EOL1 = b&#39;\n\n&#39; EOL2 = b&#39;\n\r\n&#39; response = b&#39;HTTP/1.0 200 OK\r\ndate: &#34;2013-01-12T00:01:00&#43;08:00&#34; response &#43;= b&#39;Content-Type: text/plain\r\nContent-Length: 13\r\n\r\n&#39; response &#43;= b&#39;Hello, world!&#39; serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM) serversocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) serversocket.bind((&#39;0.0.0.0&#39;, 8080)) serversocket.listen(1) try: while True: connectiontoclient, address = serversocket.accept() request = b&#39;&#39; while EOL1 not in request and EOL2 not in request: request &#43;= connectiontoclient....</p>
  </div>
  <footer class="entry-footer"><span title='2013-01-12 00:01:00 +0800 +0800'>2013-01-12</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 在 Python 中使用 epoll[译文]" href="https://blog.alswl.com/2013/01/python-epoll/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>如何让 Instagram 在一百多万用户爆炸后稳定运行
    </h2>
  </header>
  <div class="entry-content">
    <p>原文链接：Keeping Instagram up with over a million new users in twelve hours
这周二我们发布了 Instagram for Android，反响空前强烈。 最近这几周我们一直（在基础设施方面）做负载计划，为所有可能发生的事故做准备。 尽管如此，在发布那天，最大的挑战仍然是如何快速定位问题，找到瓶颈并尽快修复他们。 在这里我们将分享一些帮助我们解决问题的工具和技术。
##statsd##
statsd 在 Instagram 很受欢迎。这是 Etsy 写的一个网络监控器， 能够统计并图形化数据。它有两种核心的统计方式：计数器和计时器。 我们用计数器来跟踪许多信息，从每秒钟注册数到喜欢数量统计。 同时我们使用计时器来跟踪 feeds 变化，用户停留在 feeds 多久，和其他的主要操作。
我们喜欢 statsd 的最大原因是它能迅速将状态显示并图形化出来。 Stats 几乎是实时的（在我们系统中有 10 秒钟的延时） 帮助我们评估系统状况和代码变化情况。 Stats 可以随意启用，当我们需要跟踪时，能够快速启用它。 你可以指定一个取样密度，来均匀的查看 web 应用概况， 而不会影响它运行效率。
总结：实时统计可以动态添加，帮助你线上诊断而无须等待问题重现。
##Dogslow##
Bitbucket 出品，Dogslow 是一个 Django middleware，它能监视运行的进程， 当发现有进程运行时间超过 N 秒时，会保存当前进程信息的快照到磁盘。 一直开着它很耗性能，但当去定位突发问题的瓶颈时，就会非常有用（我们在 web 服务器上加了一个开关控制）。
在发布那天，我们发现很多运行时间超过 1.5s 的进程都卡在 memcached 的 set() 和 get_many() 方法上。我们使用 Munin 跟踪我们的机器状态，发现 memcached 每秒有 5 万次请求，因此，尽管还没到达 CPU 上限，却被 memcached 拖慢了应用服务器速度。...</p>
  </div>
  <footer class="entry-footer"><span title='2012-11-19 00:06:00 +0800 +0800'>2012-11-19</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to 如何让 Instagram 在一百多万用户爆炸后稳定运行" href="https://blog.alswl.com/2012/11/keeping-instagram-up-with-over-a-million-new-users-in-twelve-hours/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>KuKu-一个 Weekend Project
    </h2>
  </header>
  <div class="entry-content">
    <p>一个小小的 Weekend Project，基于 web.py。 代码在 alswl / kuku ，很简陋，属于差不多能用阶段。
基于以下原因开发：
想把服务器去 PHP 化，以前的 upload.log4d.com 是基于 PHP 的， 详情请见 使用独立图床子域名。 刚买的 Linode VPS，终于从 128MB 内存解放出来了，赶紧放个 Python 程序跑跑。 想些 Python 了，手痒，想看看写这么简单的功能需要多长时间， 弥补上次没能参加黑客马拉松的遗憾。 KuKu 的发音是我家乡话的「看看」。
KuKu 中比较有趣的地方是，用了 Foundation 这个流式 Web 前端框架， 用了 Foundation Icons Fonts，将 js 库全部托管在 Google Hosted Libaries 和 cdnjs 上。
这篇文章我看着都觉得水。</p>
  </div>
  <footer class="entry-footer"><span title='2012-11-18 22:31:00 +0800 +0800'>2012-11-18</span>&nbsp;·&nbsp;alswl</footer>
  <a class="entry-link" aria-label="post link to KuKu-一个 Weekend Project" href="https://blog.alswl.com/2012/11/kuku/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://blog.alswl.com/categories/coding/page/2/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://blog.alswl.com/categories/coding/page/4/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://blog.alswl.com">Log4D</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
